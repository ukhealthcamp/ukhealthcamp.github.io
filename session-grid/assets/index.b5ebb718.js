(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))o(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function i(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerpolicy&&(u.referrerPolicy=l.referrerpolicy),l.crossorigin==="use-credentials"?u.credentials="include":l.crossorigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function o(l){if(l.ep)return;l.ep=!0;const u=i(l);fetch(l.href,u)}})();var Zt={},Ye={};Ye.byteLength=An;Ye.toByteArray=On;Ye.fromByteArray=Ln;var ae=[],oe=[],xn=typeof Uint8Array<"u"?Uint8Array:Array,Ke="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var xe=0,Nn=Ke.length;xe<Nn;++xe)ae[xe]=Ke[xe],oe[Ke.charCodeAt(xe)]=xe;oe["-".charCodeAt(0)]=62;oe["_".charCodeAt(0)]=63;function Kt(n){var e=n.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var i=n.indexOf("=");i===-1&&(i=e);var o=i===e?0:4-i%4;return[i,o]}function An(n){var e=Kt(n),i=e[0],o=e[1];return(i+o)*3/4-o}function kn(n,e,i){return(e+i)*3/4-i}function On(n){var e,i=Kt(n),o=i[0],l=i[1],u=new xn(kn(n,o,l)),c=0,s=l>0?o-4:o,a;for(a=0;a<s;a+=4)e=oe[n.charCodeAt(a)]<<18|oe[n.charCodeAt(a+1)]<<12|oe[n.charCodeAt(a+2)]<<6|oe[n.charCodeAt(a+3)],u[c++]=e>>16&255,u[c++]=e>>8&255,u[c++]=e&255;return l===2&&(e=oe[n.charCodeAt(a)]<<2|oe[n.charCodeAt(a+1)]>>4,u[c++]=e&255),l===1&&(e=oe[n.charCodeAt(a)]<<10|oe[n.charCodeAt(a+1)]<<4|oe[n.charCodeAt(a+2)]>>2,u[c++]=e>>8&255,u[c++]=e&255),u}function Cn(n){return ae[n>>18&63]+ae[n>>12&63]+ae[n>>6&63]+ae[n&63]}function Fn(n,e,i){for(var o,l=[],u=e;u<i;u+=3)o=(n[u]<<16&16711680)+(n[u+1]<<8&65280)+(n[u+2]&255),l.push(Cn(o));return l.join("")}function Ln(n){for(var e,i=n.length,o=i%3,l=[],u=16383,c=0,s=i-o;c<s;c+=u)l.push(Fn(n,c,c+u>s?s:c+u));return o===1?(e=n[i-1],l.push(ae[e>>2]+ae[e<<4&63]+"==")):o===2&&(e=(n[i-2]<<8)+n[i-1],l.push(ae[e>>10]+ae[e>>4&63]+ae[e<<2&63]+"=")),l.join("")}var it={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */it.read=function(n,e,i,o,l){var u,c,s=l*8-o-1,a=(1<<s)-1,m=a>>1,g=-7,y=i?l-1:0,p=i?-1:1,E=n[e+y];for(y+=p,u=E&(1<<-g)-1,E>>=-g,g+=s;g>0;u=u*256+n[e+y],y+=p,g-=8);for(c=u&(1<<-g)-1,u>>=-g,g+=o;g>0;c=c*256+n[e+y],y+=p,g-=8);if(u===0)u=1-m;else{if(u===a)return c?NaN:(E?-1:1)*(1/0);c=c+Math.pow(2,o),u=u-m}return(E?-1:1)*c*Math.pow(2,u-o)};it.write=function(n,e,i,o,l,u){var c,s,a,m=u*8-l-1,g=(1<<m)-1,y=g>>1,p=l===23?Math.pow(2,-24)-Math.pow(2,-77):0,E=o?0:u-1,b=o?1:-1,I=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,c=g):(c=Math.floor(Math.log(e)/Math.LN2),e*(a=Math.pow(2,-c))<1&&(c--,a*=2),c+y>=1?e+=p/a:e+=p*Math.pow(2,1-y),e*a>=2&&(c++,a/=2),c+y>=g?(s=0,c=g):c+y>=1?(s=(e*a-1)*Math.pow(2,l),c=c+y):(s=e*Math.pow(2,y-1)*Math.pow(2,l),c=0));l>=8;n[i+E]=s&255,E+=b,s/=256,l-=8);for(c=c<<l|s,m+=l;m>0;n[i+E]=c&255,E+=b,c/=256,m-=8);n[i+E-b]|=I*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(n){const e=Ye,i=it,o=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;n.Buffer=s,n.SlowBuffer=N,n.INSPECT_MAX_BYTES=50;const l=2147483647;n.kMaxLength=l,s.TYPED_ARRAY_SUPPORT=u(),!s.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function u(){try{const f=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(f,t),f.foo()===42}catch{return!1}}Object.defineProperty(s.prototype,"parent",{enumerable:!0,get:function(){if(!!s.isBuffer(this))return this.buffer}}),Object.defineProperty(s.prototype,"offset",{enumerable:!0,get:function(){if(!!s.isBuffer(this))return this.byteOffset}});function c(f){if(f>l)throw new RangeError('The value "'+f+'" is invalid for option "size"');const t=new Uint8Array(f);return Object.setPrototypeOf(t,s.prototype),t}function s(f,t,r){if(typeof f=="number"){if(typeof t=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return y(f)}return a(f,t,r)}s.poolSize=8192;function a(f,t,r){if(typeof f=="string")return p(f,t);if(ArrayBuffer.isView(f))return b(f);if(f==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof f);if(ce(f,ArrayBuffer)||f&&ce(f.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ce(f,SharedArrayBuffer)||f&&ce(f.buffer,SharedArrayBuffer)))return I(f,t,r);if(typeof f=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const h=f.valueOf&&f.valueOf();if(h!=null&&h!==f)return s.from(h,t,r);const d=S(f);if(d)return d;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof f[Symbol.toPrimitive]=="function")return s.from(f[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof f)}s.from=function(f,t,r){return a(f,t,r)},Object.setPrototypeOf(s.prototype,Uint8Array.prototype),Object.setPrototypeOf(s,Uint8Array);function m(f){if(typeof f!="number")throw new TypeError('"size" argument must be of type number');if(f<0)throw new RangeError('The value "'+f+'" is invalid for option "size"')}function g(f,t,r){return m(f),f<=0?c(f):t!==void 0?typeof r=="string"?c(f).fill(t,r):c(f).fill(t):c(f)}s.alloc=function(f,t,r){return g(f,t,r)};function y(f){return m(f),c(f<0?0:x(f)|0)}s.allocUnsafe=function(f){return y(f)},s.allocUnsafeSlow=function(f){return y(f)};function p(f,t){if((typeof t!="string"||t==="")&&(t="utf8"),!s.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const r=O(f,t)|0;let h=c(r);const d=h.write(f,t);return d!==r&&(h=h.slice(0,d)),h}function E(f){const t=f.length<0?0:x(f.length)|0,r=c(t);for(let h=0;h<t;h+=1)r[h]=f[h]&255;return r}function b(f){if(ce(f,Uint8Array)){const t=new Uint8Array(f);return I(t.buffer,t.byteOffset,t.byteLength)}return E(f)}function I(f,t,r){if(t<0||f.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(f.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');let h;return t===void 0&&r===void 0?h=new Uint8Array(f):r===void 0?h=new Uint8Array(f,t):h=new Uint8Array(f,t,r),Object.setPrototypeOf(h,s.prototype),h}function S(f){if(s.isBuffer(f)){const t=x(f.length)|0,r=c(t);return r.length===0||f.copy(r,0,0,t),r}if(f.length!==void 0)return typeof f.length!="number"||Ze(f.length)?c(0):E(f);if(f.type==="Buffer"&&Array.isArray(f.data))return E(f.data)}function x(f){if(f>=l)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+l.toString(16)+" bytes");return f|0}function N(f){return+f!=f&&(f=0),s.alloc(+f)}s.isBuffer=function(t){return t!=null&&t._isBuffer===!0&&t!==s.prototype},s.compare=function(t,r){if(ce(t,Uint8Array)&&(t=s.from(t,t.offset,t.byteLength)),ce(r,Uint8Array)&&(r=s.from(r,r.offset,r.byteLength)),!s.isBuffer(t)||!s.isBuffer(r))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===r)return 0;let h=t.length,d=r.length;for(let _=0,w=Math.min(h,d);_<w;++_)if(t[_]!==r[_]){h=t[_],d=r[_];break}return h<d?-1:d<h?1:0},s.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(t,r){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(t.length===0)return s.alloc(0);let h;if(r===void 0)for(r=0,h=0;h<t.length;++h)r+=t[h].length;const d=s.allocUnsafe(r);let _=0;for(h=0;h<t.length;++h){let w=t[h];if(ce(w,Uint8Array))_+w.length>d.length?(s.isBuffer(w)||(w=s.from(w)),w.copy(d,_)):Uint8Array.prototype.set.call(d,w,_);else if(s.isBuffer(w))w.copy(d,_);else throw new TypeError('"list" argument must be an Array of Buffers');_+=w.length}return d};function O(f,t){if(s.isBuffer(f))return f.length;if(ArrayBuffer.isView(f)||ce(f,ArrayBuffer))return f.byteLength;if(typeof f!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof f);const r=f.length,h=arguments.length>2&&arguments[2]===!0;if(!h&&r===0)return 0;let d=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return We(f).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return r*2;case"hex":return r>>>1;case"base64":return gt(f).length;default:if(d)return h?-1:We(f).length;t=(""+t).toLowerCase(),d=!0}}s.byteLength=O;function k(f,t,r){let h=!1;if((t===void 0||t<0)&&(t=0),t>this.length||((r===void 0||r>this.length)&&(r=this.length),r<=0)||(r>>>=0,t>>>=0,r<=t))return"";for(f||(f="utf8");;)switch(f){case"hex":return Ie(this,t,r);case"utf8":case"utf-8":return Re(this,t,r);case"ascii":return Ee(this,t,r);case"latin1":case"binary":return ye(this,t,r);case"base64":return ie(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return we(this,t,r);default:if(h)throw new TypeError("Unknown encoding: "+f);f=(f+"").toLowerCase(),h=!0}}s.prototype._isBuffer=!0;function C(f,t,r){const h=f[t];f[t]=f[r],f[r]=h}s.prototype.swap16=function(){const t=this.length;if(t%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let r=0;r<t;r+=2)C(this,r,r+1);return this},s.prototype.swap32=function(){const t=this.length;if(t%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let r=0;r<t;r+=4)C(this,r,r+3),C(this,r+1,r+2);return this},s.prototype.swap64=function(){const t=this.length;if(t%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let r=0;r<t;r+=8)C(this,r,r+7),C(this,r+1,r+6),C(this,r+2,r+5),C(this,r+3,r+4);return this},s.prototype.toString=function(){const t=this.length;return t===0?"":arguments.length===0?Re(this,0,t):k.apply(this,arguments)},s.prototype.toLocaleString=s.prototype.toString,s.prototype.equals=function(t){if(!s.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t?!0:s.compare(this,t)===0},s.prototype.inspect=function(){let t="";const r=n.INSPECT_MAX_BYTES;return t=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(t+=" ... "),"<Buffer "+t+">"},o&&(s.prototype[o]=s.prototype.inspect),s.prototype.compare=function(t,r,h,d,_){if(ce(t,Uint8Array)&&(t=s.from(t,t.offset,t.byteLength)),!s.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(r===void 0&&(r=0),h===void 0&&(h=t?t.length:0),d===void 0&&(d=0),_===void 0&&(_=this.length),r<0||h>t.length||d<0||_>this.length)throw new RangeError("out of range index");if(d>=_&&r>=h)return 0;if(d>=_)return-1;if(r>=h)return 1;if(r>>>=0,h>>>=0,d>>>=0,_>>>=0,this===t)return 0;let w=_-d,M=h-r;const Q=Math.min(w,M),z=this.slice(d,_),H=t.slice(r,h);for(let V=0;V<Q;++V)if(z[V]!==H[V]){w=z[V],M=H[V];break}return w<M?-1:M<w?1:0};function B(f,t,r,h,d){if(f.length===0)return-1;if(typeof r=="string"?(h=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,Ze(r)&&(r=d?0:f.length-1),r<0&&(r=f.length+r),r>=f.length){if(d)return-1;r=f.length-1}else if(r<0)if(d)r=0;else return-1;if(typeof t=="string"&&(t=s.from(t,h)),s.isBuffer(t))return t.length===0?-1:v(f,t,r,h,d);if(typeof t=="number")return t=t&255,typeof Uint8Array.prototype.indexOf=="function"?d?Uint8Array.prototype.indexOf.call(f,t,r):Uint8Array.prototype.lastIndexOf.call(f,t,r):v(f,[t],r,h,d);throw new TypeError("val must be string, number or Buffer")}function v(f,t,r,h,d){let _=1,w=f.length,M=t.length;if(h!==void 0&&(h=String(h).toLowerCase(),h==="ucs2"||h==="ucs-2"||h==="utf16le"||h==="utf-16le")){if(f.length<2||t.length<2)return-1;_=2,w/=2,M/=2,r/=2}function Q(H,V){return _===1?H[V]:H.readUInt16BE(V*_)}let z;if(d){let H=-1;for(z=r;z<w;z++)if(Q(f,z)===Q(t,H===-1?0:z-H)){if(H===-1&&(H=z),z-H+1===M)return H*_}else H!==-1&&(z-=z-H),H=-1}else for(r+M>w&&(r=w-M),z=r;z>=0;z--){let H=!0;for(let V=0;V<M;V++)if(Q(f,z+V)!==Q(t,V)){H=!1;break}if(H)return z}return-1}s.prototype.includes=function(t,r,h){return this.indexOf(t,r,h)!==-1},s.prototype.indexOf=function(t,r,h){return B(this,t,r,h,!0)},s.prototype.lastIndexOf=function(t,r,h){return B(this,t,r,h,!1)};function J(f,t,r,h){r=Number(r)||0;const d=f.length-r;h?(h=Number(h),h>d&&(h=d)):h=d;const _=t.length;h>_/2&&(h=_/2);let w;for(w=0;w<h;++w){const M=parseInt(t.substr(w*2,2),16);if(Ze(M))return w;f[r+w]=M}return w}function F(f,t,r,h){return De(We(t,f.length-r),f,r,h)}function ge(f,t,r,h){return De(En(t),f,r,h)}function L(f,t,r,h){return De(gt(t),f,r,h)}function $(f,t,r,h){return De(In(t,f.length-r),f,r,h)}s.prototype.write=function(t,r,h,d){if(r===void 0)d="utf8",h=this.length,r=0;else if(h===void 0&&typeof r=="string")d=r,h=this.length,r=0;else if(isFinite(r))r=r>>>0,isFinite(h)?(h=h>>>0,d===void 0&&(d="utf8")):(d=h,h=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const _=this.length-r;if((h===void 0||h>_)&&(h=_),t.length>0&&(h<0||r<0)||r>this.length)throw new RangeError("Attempt to write outside buffer bounds");d||(d="utf8");let w=!1;for(;;)switch(d){case"hex":return J(this,t,r,h);case"utf8":case"utf-8":return F(this,t,r,h);case"ascii":case"latin1":case"binary":return ge(this,t,r,h);case"base64":return L(this,t,r,h);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return $(this,t,r,h);default:if(w)throw new TypeError("Unknown encoding: "+d);d=(""+d).toLowerCase(),w=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function ie(f,t,r){return t===0&&r===f.length?e.fromByteArray(f):e.fromByteArray(f.slice(t,r))}function Re(f,t,r){r=Math.min(f.length,r);const h=[];let d=t;for(;d<r;){const _=f[d];let w=null,M=_>239?4:_>223?3:_>191?2:1;if(d+M<=r){let Q,z,H,V;switch(M){case 1:_<128&&(w=_);break;case 2:Q=f[d+1],(Q&192)===128&&(V=(_&31)<<6|Q&63,V>127&&(w=V));break;case 3:Q=f[d+1],z=f[d+2],(Q&192)===128&&(z&192)===128&&(V=(_&15)<<12|(Q&63)<<6|z&63,V>2047&&(V<55296||V>57343)&&(w=V));break;case 4:Q=f[d+1],z=f[d+2],H=f[d+3],(Q&192)===128&&(z&192)===128&&(H&192)===128&&(V=(_&15)<<18|(Q&63)<<12|(z&63)<<6|H&63,V>65535&&V<1114112&&(w=V))}}w===null?(w=65533,M=1):w>65535&&(w-=65536,h.push(w>>>10&1023|55296),w=56320|w&1023),h.push(w),d+=M}return Te(h)}const W=4096;function Te(f){const t=f.length;if(t<=W)return String.fromCharCode.apply(String,f);let r="",h=0;for(;h<t;)r+=String.fromCharCode.apply(String,f.slice(h,h+=W));return r}function Ee(f,t,r){let h="";r=Math.min(f.length,r);for(let d=t;d<r;++d)h+=String.fromCharCode(f[d]&127);return h}function ye(f,t,r){let h="";r=Math.min(f.length,r);for(let d=t;d<r;++d)h+=String.fromCharCode(f[d]);return h}function Ie(f,t,r){const h=f.length;(!t||t<0)&&(t=0),(!r||r<0||r>h)&&(r=h);let d="";for(let _=t;_<r;++_)d+=Bn[f[_]];return d}function we(f,t,r){const h=f.slice(t,r);let d="";for(let _=0;_<h.length-1;_+=2)d+=String.fromCharCode(h[_]+h[_+1]*256);return d}s.prototype.slice=function(t,r){const h=this.length;t=~~t,r=r===void 0?h:~~r,t<0?(t+=h,t<0&&(t=0)):t>h&&(t=h),r<0?(r+=h,r<0&&(r=0)):r>h&&(r=h),r<t&&(r=t);const d=this.subarray(t,r);return Object.setPrototypeOf(d,s.prototype),d};function Z(f,t,r){if(f%1!==0||f<0)throw new RangeError("offset is not uint");if(f+t>r)throw new RangeError("Trying to access beyond buffer length")}s.prototype.readUintLE=s.prototype.readUIntLE=function(t,r,h){t=t>>>0,r=r>>>0,h||Z(t,r,this.length);let d=this[t],_=1,w=0;for(;++w<r&&(_*=256);)d+=this[t+w]*_;return d},s.prototype.readUintBE=s.prototype.readUIntBE=function(t,r,h){t=t>>>0,r=r>>>0,h||Z(t,r,this.length);let d=this[t+--r],_=1;for(;r>0&&(_*=256);)d+=this[t+--r]*_;return d},s.prototype.readUint8=s.prototype.readUInt8=function(t,r){return t=t>>>0,r||Z(t,1,this.length),this[t]},s.prototype.readUint16LE=s.prototype.readUInt16LE=function(t,r){return t=t>>>0,r||Z(t,2,this.length),this[t]|this[t+1]<<8},s.prototype.readUint16BE=s.prototype.readUInt16BE=function(t,r){return t=t>>>0,r||Z(t,2,this.length),this[t]<<8|this[t+1]},s.prototype.readUint32LE=s.prototype.readUInt32LE=function(t,r){return t=t>>>0,r||Z(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+this[t+3]*16777216},s.prototype.readUint32BE=s.prototype.readUInt32BE=function(t,r){return t=t>>>0,r||Z(t,4,this.length),this[t]*16777216+(this[t+1]<<16|this[t+2]<<8|this[t+3])},s.prototype.readBigUInt64LE=_e(function(t){t=t>>>0,Se(t,"offset");const r=this[t],h=this[t+7];(r===void 0||h===void 0)&&ke(t,this.length-8);const d=r+this[++t]*2**8+this[++t]*2**16+this[++t]*2**24,_=this[++t]+this[++t]*2**8+this[++t]*2**16+h*2**24;return BigInt(d)+(BigInt(_)<<BigInt(32))}),s.prototype.readBigUInt64BE=_e(function(t){t=t>>>0,Se(t,"offset");const r=this[t],h=this[t+7];(r===void 0||h===void 0)&&ke(t,this.length-8);const d=r*2**24+this[++t]*2**16+this[++t]*2**8+this[++t],_=this[++t]*2**24+this[++t]*2**16+this[++t]*2**8+h;return(BigInt(d)<<BigInt(32))+BigInt(_)}),s.prototype.readIntLE=function(t,r,h){t=t>>>0,r=r>>>0,h||Z(t,r,this.length);let d=this[t],_=1,w=0;for(;++w<r&&(_*=256);)d+=this[t+w]*_;return _*=128,d>=_&&(d-=Math.pow(2,8*r)),d},s.prototype.readIntBE=function(t,r,h){t=t>>>0,r=r>>>0,h||Z(t,r,this.length);let d=r,_=1,w=this[t+--d];for(;d>0&&(_*=256);)w+=this[t+--d]*_;return _*=128,w>=_&&(w-=Math.pow(2,8*r)),w},s.prototype.readInt8=function(t,r){return t=t>>>0,r||Z(t,1,this.length),this[t]&128?(255-this[t]+1)*-1:this[t]},s.prototype.readInt16LE=function(t,r){t=t>>>0,r||Z(t,2,this.length);const h=this[t]|this[t+1]<<8;return h&32768?h|4294901760:h},s.prototype.readInt16BE=function(t,r){t=t>>>0,r||Z(t,2,this.length);const h=this[t+1]|this[t]<<8;return h&32768?h|4294901760:h},s.prototype.readInt32LE=function(t,r){return t=t>>>0,r||Z(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},s.prototype.readInt32BE=function(t,r){return t=t>>>0,r||Z(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},s.prototype.readBigInt64LE=_e(function(t){t=t>>>0,Se(t,"offset");const r=this[t],h=this[t+7];(r===void 0||h===void 0)&&ke(t,this.length-8);const d=this[t+4]+this[t+5]*2**8+this[t+6]*2**16+(h<<24);return(BigInt(d)<<BigInt(32))+BigInt(r+this[++t]*2**8+this[++t]*2**16+this[++t]*2**24)}),s.prototype.readBigInt64BE=_e(function(t){t=t>>>0,Se(t,"offset");const r=this[t],h=this[t+7];(r===void 0||h===void 0)&&ke(t,this.length-8);const d=(r<<24)+this[++t]*2**16+this[++t]*2**8+this[++t];return(BigInt(d)<<BigInt(32))+BigInt(this[++t]*2**24+this[++t]*2**16+this[++t]*2**8+h)}),s.prototype.readFloatLE=function(t,r){return t=t>>>0,r||Z(t,4,this.length),i.read(this,t,!0,23,4)},s.prototype.readFloatBE=function(t,r){return t=t>>>0,r||Z(t,4,this.length),i.read(this,t,!1,23,4)},s.prototype.readDoubleLE=function(t,r){return t=t>>>0,r||Z(t,8,this.length),i.read(this,t,!0,52,8)},s.prototype.readDoubleBE=function(t,r){return t=t>>>0,r||Z(t,8,this.length),i.read(this,t,!1,52,8)};function K(f,t,r,h,d,_){if(!s.isBuffer(f))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>d||t<_)throw new RangeError('"value" argument is out of bounds');if(r+h>f.length)throw new RangeError("Index out of range")}s.prototype.writeUintLE=s.prototype.writeUIntLE=function(t,r,h,d){if(t=+t,r=r>>>0,h=h>>>0,!d){const M=Math.pow(2,8*h)-1;K(this,t,r,h,M,0)}let _=1,w=0;for(this[r]=t&255;++w<h&&(_*=256);)this[r+w]=t/_&255;return r+h},s.prototype.writeUintBE=s.prototype.writeUIntBE=function(t,r,h,d){if(t=+t,r=r>>>0,h=h>>>0,!d){const M=Math.pow(2,8*h)-1;K(this,t,r,h,M,0)}let _=h-1,w=1;for(this[r+_]=t&255;--_>=0&&(w*=256);)this[r+_]=t/w&255;return r+h},s.prototype.writeUint8=s.prototype.writeUInt8=function(t,r,h){return t=+t,r=r>>>0,h||K(this,t,r,1,255,0),this[r]=t&255,r+1},s.prototype.writeUint16LE=s.prototype.writeUInt16LE=function(t,r,h){return t=+t,r=r>>>0,h||K(this,t,r,2,65535,0),this[r]=t&255,this[r+1]=t>>>8,r+2},s.prototype.writeUint16BE=s.prototype.writeUInt16BE=function(t,r,h){return t=+t,r=r>>>0,h||K(this,t,r,2,65535,0),this[r]=t>>>8,this[r+1]=t&255,r+2},s.prototype.writeUint32LE=s.prototype.writeUInt32LE=function(t,r,h){return t=+t,r=r>>>0,h||K(this,t,r,4,4294967295,0),this[r+3]=t>>>24,this[r+2]=t>>>16,this[r+1]=t>>>8,this[r]=t&255,r+4},s.prototype.writeUint32BE=s.prototype.writeUInt32BE=function(t,r,h){return t=+t,r=r>>>0,h||K(this,t,r,4,4294967295,0),this[r]=t>>>24,this[r+1]=t>>>16,this[r+2]=t>>>8,this[r+3]=t&255,r+4};function ct(f,t,r,h,d){pt(t,h,d,f,r,7);let _=Number(t&BigInt(4294967295));f[r++]=_,_=_>>8,f[r++]=_,_=_>>8,f[r++]=_,_=_>>8,f[r++]=_;let w=Number(t>>BigInt(32)&BigInt(4294967295));return f[r++]=w,w=w>>8,f[r++]=w,w=w>>8,f[r++]=w,w=w>>8,f[r++]=w,r}function at(f,t,r,h,d){pt(t,h,d,f,r,7);let _=Number(t&BigInt(4294967295));f[r+7]=_,_=_>>8,f[r+6]=_,_=_>>8,f[r+5]=_,_=_>>8,f[r+4]=_;let w=Number(t>>BigInt(32)&BigInt(4294967295));return f[r+3]=w,w=w>>8,f[r+2]=w,w=w>>8,f[r+1]=w,w=w>>8,f[r]=w,r+8}s.prototype.writeBigUInt64LE=_e(function(t,r=0){return ct(this,t,r,BigInt(0),BigInt("0xffffffffffffffff"))}),s.prototype.writeBigUInt64BE=_e(function(t,r=0){return at(this,t,r,BigInt(0),BigInt("0xffffffffffffffff"))}),s.prototype.writeIntLE=function(t,r,h,d){if(t=+t,r=r>>>0,!d){const Q=Math.pow(2,8*h-1);K(this,t,r,h,Q-1,-Q)}let _=0,w=1,M=0;for(this[r]=t&255;++_<h&&(w*=256);)t<0&&M===0&&this[r+_-1]!==0&&(M=1),this[r+_]=(t/w>>0)-M&255;return r+h},s.prototype.writeIntBE=function(t,r,h,d){if(t=+t,r=r>>>0,!d){const Q=Math.pow(2,8*h-1);K(this,t,r,h,Q-1,-Q)}let _=h-1,w=1,M=0;for(this[r+_]=t&255;--_>=0&&(w*=256);)t<0&&M===0&&this[r+_+1]!==0&&(M=1),this[r+_]=(t/w>>0)-M&255;return r+h},s.prototype.writeInt8=function(t,r,h){return t=+t,r=r>>>0,h||K(this,t,r,1,127,-128),t<0&&(t=255+t+1),this[r]=t&255,r+1},s.prototype.writeInt16LE=function(t,r,h){return t=+t,r=r>>>0,h||K(this,t,r,2,32767,-32768),this[r]=t&255,this[r+1]=t>>>8,r+2},s.prototype.writeInt16BE=function(t,r,h){return t=+t,r=r>>>0,h||K(this,t,r,2,32767,-32768),this[r]=t>>>8,this[r+1]=t&255,r+2},s.prototype.writeInt32LE=function(t,r,h){return t=+t,r=r>>>0,h||K(this,t,r,4,2147483647,-2147483648),this[r]=t&255,this[r+1]=t>>>8,this[r+2]=t>>>16,this[r+3]=t>>>24,r+4},s.prototype.writeInt32BE=function(t,r,h){return t=+t,r=r>>>0,h||K(this,t,r,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[r]=t>>>24,this[r+1]=t>>>16,this[r+2]=t>>>8,this[r+3]=t&255,r+4},s.prototype.writeBigInt64LE=_e(function(t,r=0){return ct(this,t,r,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),s.prototype.writeBigInt64BE=_e(function(t,r=0){return at(this,t,r,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function ht(f,t,r,h,d,_){if(r+h>f.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function dt(f,t,r,h,d){return t=+t,r=r>>>0,d||ht(f,t,r,4),i.write(f,t,r,h,23,4),r+4}s.prototype.writeFloatLE=function(t,r,h){return dt(this,t,r,!0,h)},s.prototype.writeFloatBE=function(t,r,h){return dt(this,t,r,!1,h)};function mt(f,t,r,h,d){return t=+t,r=r>>>0,d||ht(f,t,r,8),i.write(f,t,r,h,52,8),r+8}s.prototype.writeDoubleLE=function(t,r,h){return mt(this,t,r,!0,h)},s.prototype.writeDoubleBE=function(t,r,h){return mt(this,t,r,!1,h)},s.prototype.copy=function(t,r,h,d){if(!s.isBuffer(t))throw new TypeError("argument should be a Buffer");if(h||(h=0),!d&&d!==0&&(d=this.length),r>=t.length&&(r=t.length),r||(r=0),d>0&&d<h&&(d=h),d===h||t.length===0||this.length===0)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(h<0||h>=this.length)throw new RangeError("Index out of range");if(d<0)throw new RangeError("sourceEnd out of bounds");d>this.length&&(d=this.length),t.length-r<d-h&&(d=t.length-r+h);const _=d-h;return this===t&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(r,h,d):Uint8Array.prototype.set.call(t,this.subarray(h,d),r),_},s.prototype.fill=function(t,r,h,d){if(typeof t=="string"){if(typeof r=="string"?(d=r,r=0,h=this.length):typeof h=="string"&&(d=h,h=this.length),d!==void 0&&typeof d!="string")throw new TypeError("encoding must be a string");if(typeof d=="string"&&!s.isEncoding(d))throw new TypeError("Unknown encoding: "+d);if(t.length===1){const w=t.charCodeAt(0);(d==="utf8"&&w<128||d==="latin1")&&(t=w)}}else typeof t=="number"?t=t&255:typeof t=="boolean"&&(t=Number(t));if(r<0||this.length<r||this.length<h)throw new RangeError("Out of range index");if(h<=r)return this;r=r>>>0,h=h===void 0?this.length:h>>>0,t||(t=0);let _;if(typeof t=="number")for(_=r;_<h;++_)this[_]=t;else{const w=s.isBuffer(t)?t:s.from(t,d),M=w.length;if(M===0)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(_=0;_<h-r;++_)this[_+r]=w[_%M]}return this};const Be={};function Xe(f,t,r){Be[f]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${f}]`,this.stack,delete this.name}get code(){return f}set code(d){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:d,writable:!0})}toString(){return`${this.name} [${f}]: ${this.message}`}}}Xe("ERR_BUFFER_OUT_OF_BOUNDS",function(f){return f?`${f} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Xe("ERR_INVALID_ARG_TYPE",function(f,t){return`The "${f}" argument must be of type number. Received type ${typeof t}`},TypeError),Xe("ERR_OUT_OF_RANGE",function(f,t,r){let h=`The value of "${f}" is out of range.`,d=r;return Number.isInteger(r)&&Math.abs(r)>2**32?d=_t(String(r)):typeof r=="bigint"&&(d=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(d=_t(d)),d+="n"),h+=` It must be ${t}. Received ${d}`,h},RangeError);function _t(f){let t="",r=f.length;const h=f[0]==="-"?1:0;for(;r>=h+4;r-=3)t=`_${f.slice(r-3,r)}${t}`;return`${f.slice(0,r)}${t}`}function yn(f,t,r){Se(t,"offset"),(f[t]===void 0||f[t+r]===void 0)&&ke(t,f.length-(r+1))}function pt(f,t,r,h,d,_){if(f>r||f<t){const w=typeof t=="bigint"?"n":"";let M;throw _>3?t===0||t===BigInt(0)?M=`>= 0${w} and < 2${w} ** ${(_+1)*8}${w}`:M=`>= -(2${w} ** ${(_+1)*8-1}${w}) and < 2 ** ${(_+1)*8-1}${w}`:M=`>= ${t}${w} and <= ${r}${w}`,new Be.ERR_OUT_OF_RANGE("value",M,f)}yn(h,d,_)}function Se(f,t){if(typeof f!="number")throw new Be.ERR_INVALID_ARG_TYPE(t,"number",f)}function ke(f,t,r){throw Math.floor(f)!==f?(Se(f,r),new Be.ERR_OUT_OF_RANGE(r||"offset","an integer",f)):t<0?new Be.ERR_BUFFER_OUT_OF_BOUNDS:new Be.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${t}`,f)}const wn=/[^+/0-9A-Za-z-_]/g;function bn(f){if(f=f.split("=")[0],f=f.trim().replace(wn,""),f.length<2)return"";for(;f.length%4!==0;)f=f+"=";return f}function We(f,t){t=t||1/0;let r;const h=f.length;let d=null;const _=[];for(let w=0;w<h;++w){if(r=f.charCodeAt(w),r>55295&&r<57344){if(!d){if(r>56319){(t-=3)>-1&&_.push(239,191,189);continue}else if(w+1===h){(t-=3)>-1&&_.push(239,191,189);continue}d=r;continue}if(r<56320){(t-=3)>-1&&_.push(239,191,189),d=r;continue}r=(d-55296<<10|r-56320)+65536}else d&&(t-=3)>-1&&_.push(239,191,189);if(d=null,r<128){if((t-=1)<0)break;_.push(r)}else if(r<2048){if((t-=2)<0)break;_.push(r>>6|192,r&63|128)}else if(r<65536){if((t-=3)<0)break;_.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((t-=4)<0)break;_.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else throw new Error("Invalid code point")}return _}function En(f){const t=[];for(let r=0;r<f.length;++r)t.push(f.charCodeAt(r)&255);return t}function In(f,t){let r,h,d;const _=[];for(let w=0;w<f.length&&!((t-=2)<0);++w)r=f.charCodeAt(w),h=r>>8,d=r%256,_.push(d),_.push(h);return _}function gt(f){return e.toByteArray(bn(f))}function De(f,t,r,h){let d;for(d=0;d<h&&!(d+r>=t.length||d>=f.length);++d)t[d+r]=f[d];return d}function ce(f,t){return f instanceof t||f!=null&&f.constructor!=null&&f.constructor.name!=null&&f.constructor.name===t.name}function Ze(f){return f!==f}const Bn=function(){const f="0123456789abcdef",t=new Array(256);for(let r=0;r<16;++r){const h=r*16;for(let d=0;d<16;++d)t[h+d]=f[r]+f[d]}return t}();function _e(f){return typeof BigInt>"u"?Sn:f}function Sn(){throw new Error("BigInt not supported")}})(Zt);window.Buffer=Zt.Buffer;function G(){}function en(n,e){for(const i in e)n[i]=e[i];return n}function tn(n){return n()}function yt(){return Object.create(null)}function pe(n){n.forEach(tn)}function Ge(n){return typeof n=="function"}function he(n,e){return n!=n?e==e:n!==e||n&&typeof n=="object"||typeof n=="function"}let Ue;function wt(n,e){return Ue||(Ue=document.createElement("a")),Ue.href=e,n===Ue.href}function Rn(n){return Object.keys(n).length===0}function nn(n,...e){if(n==null)return G;const i=n.subscribe(...e);return i.unsubscribe?()=>i.unsubscribe():i}function Oe(n,e,i){n.$$.on_destroy.push(nn(e,i))}function Je(n){return n&&Ge(n.destroy)?n.destroy:G}function A(n,e){n.appendChild(e)}function U(n,e,i){n.insertBefore(e,i||null)}function T(n){n.parentNode.removeChild(n)}function ot(n,e){for(let i=0;i<n.length;i+=1)n[i]&&n[i].d(e)}function D(n){return document.createElement(n)}function ve(n){return document.createElementNS("http://www.w3.org/2000/svg",n)}function X(n){return document.createTextNode(n)}function Y(){return X(" ")}function le(){return X("")}function st(n,e,i,o){return n.addEventListener(e,i,o),()=>n.removeEventListener(e,i,o)}function R(n,e,i){i==null?n.removeAttribute(e):n.getAttribute(e)!==i&&n.setAttribute(e,i)}function Tn(n){return Array.from(n.childNodes)}function ne(n,e){e=""+e,n.wholeText!==e&&(n.data=e)}function se(n,e,i){n.classList[i?"add":"remove"](e)}function Dn(n,e,{bubbles:i=!1,cancelable:o=!1}={}){const l=document.createEvent("CustomEvent");return l.initCustomEvent(n,i,o,e),l}let Le;function Fe(n){Le=n}function Qe(){if(!Le)throw new Error("Function called outside component initialization");return Le}function rn(n){Qe().$$.on_mount.push(n)}function Un(n){Qe().$$.after_update.push(n)}function on(n){Qe().$$.on_destroy.push(n)}function vn(){const n=Qe();return(e,i,{cancelable:o=!1}={})=>{const l=n.$$.callbacks[e];if(l){const u=Dn(e,i,{cancelable:o});return l.slice().forEach(c=>{c.call(n,u)}),!u.defaultPrevented}return!0}}function bt(n,e){const i=n.$$.callbacks[e.type];i&&i.slice().forEach(o=>o.call(this,e))}const Ce=[],Et=[],Pe=[],It=[],sn=Promise.resolve();let nt=!1;function ln(){nt||(nt=!0,sn.then(fn))}function lt(){return ln(),sn}function rt(n){Pe.push(n)}const et=new Set;let $e=0;function fn(){const n=Le;do{for(;$e<Ce.length;){const e=Ce[$e];$e++,Fe(e),$n(e.$$)}for(Fe(null),Ce.length=0,$e=0;Et.length;)Et.pop()();for(let e=0;e<Pe.length;e+=1){const i=Pe[e];et.has(i)||(et.add(i),i())}Pe.length=0}while(Ce.length);for(;It.length;)It.pop()();nt=!1,et.clear(),Fe(n)}function $n(n){if(n.fragment!==null){n.update(),pe(n.before_update);const e=n.dirty;n.dirty=[-1],n.fragment&&n.fragment.p(n.ctx,e),n.after_update.forEach(rt)}}const je=new Set;let be;function fe(){be={r:0,c:[],p:be}}function ue(){be.r||pe(be.c),be=be.p}function q(n,e){n&&n.i&&(je.delete(n),n.i(e))}function P(n,e,i,o){if(n&&n.o){if(je.has(n))return;je.add(n),be.c.push(()=>{je.delete(n),o&&(i&&n.d(1),o())}),n.o(e)}else o&&o()}function un(n,e){const i={},o={},l={$$scope:1};let u=n.length;for(;u--;){const c=n[u],s=e[u];if(s){for(const a in c)a in s||(o[a]=1);for(const a in s)l[a]||(i[a]=s[a],l[a]=1);n[u]=s}else for(const a in c)l[a]=1}for(const c in o)c in i||(i[c]=void 0);return i}function cn(n){return typeof n=="object"&&n!==null?n:{}}function re(n){n&&n.c()}function ee(n,e,i,o){const{fragment:l,on_mount:u,on_destroy:c,after_update:s}=n.$$;l&&l.m(e,i),o||rt(()=>{const a=u.map(tn).filter(Ge);c?c.push(...a):pe(a),n.$$.on_mount=[]}),s.forEach(rt)}function te(n,e){const i=n.$$;i.fragment!==null&&(pe(i.on_destroy),i.fragment&&i.fragment.d(e),i.on_destroy=i.fragment=null,i.ctx=[])}function Mn(n,e){n.$$.dirty[0]===-1&&(Ce.push(n),ln(),n.$$.dirty.fill(0)),n.$$.dirty[e/31|0]|=1<<e%31}function de(n,e,i,o,l,u,c,s=[-1]){const a=Le;Fe(n);const m=n.$$={fragment:null,ctx:null,props:u,update:G,not_equal:l,bound:yt(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(a?a.$$.context:[])),callbacks:yt(),dirty:s,skip_bound:!1,root:e.target||a.$$.root};c&&c(m.root);let g=!1;if(m.ctx=i?i(n,e.props||{},(y,p,...E)=>{const b=E.length?E[0]:p;return m.ctx&&l(m.ctx[y],m.ctx[y]=b)&&(!m.skip_bound&&m.bound[y]&&m.bound[y](b),g&&Mn(n,y)),p}):[],m.update(),g=!0,pe(m.before_update),m.fragment=o?o(m.ctx):!1,e.target){if(e.hydrate){const y=Tn(e.target);m.fragment&&m.fragment.l(y),y.forEach(T)}else m.fragment&&m.fragment.c();e.intro&&q(n.$$.fragment),ee(n,e.target,e.anchor,e.customElement),fn()}Fe(a)}class me{$destroy(){te(this,1),this.$destroy=G}$on(e,i){const o=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return o.push(i),()=>{const l=o.indexOf(i);l!==-1&&o.splice(l,1)}}$set(e){this.$$set&&!Rn(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Ne=[];function an(n,e){return{subscribe:Ae(n,e).subscribe}}function Ae(n,e=G){let i;const o=new Set;function l(s){if(he(n,s)&&(n=s,i)){const a=!Ne.length;for(const m of o)m[1](),Ne.push(m,n);if(a){for(let m=0;m<Ne.length;m+=2)Ne[m][0](Ne[m+1]);Ne.length=0}}}function u(s){l(s(n))}function c(s,a=G){const m=[s,a];return o.add(m),o.size===1&&(i=e(l)||G),s(n),()=>{o.delete(m),o.size===0&&(i(),i=null)}}return{set:l,update:u,subscribe:c}}function ft(n,e,i){const o=!Array.isArray(n),l=o?[n]:n,u=e.length<2;return an(i,c=>{let s=!1;const a=[];let m=0,g=G;const y=()=>{if(m)return;g();const E=e(o?a[0]:a,c);u?c(E):g=Ge(E)?E:G},p=l.map((E,b)=>nn(E,I=>{a[b]=I,m&=~(1<<b),s&&y()},()=>{m|=1<<b}));return s=!0,y(),function(){pe(p),g()}})}class j extends Error{constructor(e,i,o,...l){Array.isArray(i)&&(i=i.join(" ")),super(i),Error.captureStackTrace!==void 0&&Error.captureStackTrace(this,j),this.code=e;for(const u of l)for(const c in u){const s=u[c];this[c]=Buffer.isBuffer(s)?s.toString(o.encoding):s==null?s:JSON.parse(JSON.stringify(s))}}}const qn=function(n){return typeof n=="object"&&n!==null&&!Array.isArray(n)},hn=function(n){const e=[];for(let i=0,o=n.length;i<o;i++){const l=n[i];if(l==null||l===!1)e[i]={disabled:!0};else if(typeof l=="string")e[i]={name:l};else if(qn(l)){if(typeof l.name!="string")throw new j("CSV_OPTION_COLUMNS_MISSING_NAME",["Option columns missing name:",`property "name" is required at position ${i}`,"when column is an object literal"]);e[i]=l}else throw new j("CSV_INVALID_COLUMN_DEFINITION",["Invalid column definition:","expect a string or a literal object,",`got ${JSON.stringify(l)} at position ${i}`])}return e};class Bt{constructor(e=100){this.size=e,this.length=0,this.buf=Buffer.allocUnsafe(e)}prepend(e){if(Buffer.isBuffer(e)){const i=this.length+e.length;if(i>=this.size&&(this.resize(),i>=this.size))throw Error("INVALID_BUFFER_STATE");const o=this.buf;this.buf=Buffer.allocUnsafe(this.size),e.copy(this.buf,0),o.copy(this.buf,e.length),this.length+=e.length}else{const i=this.length++;i===this.size&&this.resize();const o=this.clone();this.buf[0]=e,o.copy(this.buf,1,0,i)}}append(e){const i=this.length++;i===this.size&&this.resize(),this.buf[i]=e}clone(){return Buffer.from(this.buf.slice(0,this.length))}resize(){const e=this.length;this.size=this.size*2;const i=Buffer.allocUnsafe(this.size);this.buf.copy(i,0,0,e),this.buf=i}toString(e){return e?this.buf.slice(0,this.length).toString(e):Uint8Array.prototype.slice.call(this.buf.slice(0,this.length))}toJSON(){return this.toString("utf8")}reset(){this.length=0}}const Pn=12,jn=13,Vn=10,Jn=32,zn=9,Yn=function(n){return{bomSkipped:!1,bufBytesStart:0,castField:n.cast_function,commenting:!1,error:void 0,enabled:n.from_line===1,escaping:!1,escapeIsQuote:Buffer.isBuffer(n.escape)&&Buffer.isBuffer(n.quote)&&Buffer.compare(n.escape,n.quote)===0,expectedRecordLength:Array.isArray(n.columns)?n.columns.length:void 0,field:new Bt(20),firstLineToHeaders:n.cast_first_line_to_header,needMoreDataSize:Math.max(n.comment!==null?n.comment.length:0,...n.delimiter.map(e=>e.length),n.quote!==null?n.quote.length:0),previousBuf:void 0,quoting:!1,stop:!1,rawBuffer:new Bt(100),record:[],recordHasError:!1,record_length:0,recordDelimiterMaxLength:n.record_delimiter.length===0?2:Math.max(...n.record_delimiter.map(e=>e.length)),trimChars:[Buffer.from(" ",n.encoding)[0],Buffer.from("	",n.encoding)[0]],wasQuoting:!1,wasRowDelimiter:!1,timchars:[Buffer.from(Buffer.from([jn],"utf8").toString(),n.encoding),Buffer.from(Buffer.from([Vn],"utf8").toString(),n.encoding),Buffer.from(Buffer.from([Pn],"utf8").toString(),n.encoding),Buffer.from(Buffer.from([Jn],"utf8").toString(),n.encoding),Buffer.from(Buffer.from([zn],"utf8").toString(),n.encoding)]}},Gn=function(n){return n.replace(/([A-Z])/g,function(e,i){return"_"+i.toLowerCase()})},St=function(n){const e={};for(const o in n)e[Gn(o)]=n[o];if(e.encoding===void 0||e.encoding===!0)e.encoding="utf8";else if(e.encoding===null||e.encoding===!1)e.encoding=null;else if(typeof e.encoding!="string"&&e.encoding!==null)throw new j("CSV_INVALID_OPTION_ENCODING",["Invalid option encoding:","encoding must be a string or null to return a buffer,",`got ${JSON.stringify(e.encoding)}`],e);if(e.bom===void 0||e.bom===null||e.bom===!1)e.bom=!1;else if(e.bom!==!0)throw new j("CSV_INVALID_OPTION_BOM",["Invalid option bom:","bom must be true,",`got ${JSON.stringify(e.bom)}`],e);if(e.cast_function=null,e.cast===void 0||e.cast===null||e.cast===!1||e.cast==="")e.cast=void 0;else if(typeof e.cast=="function")e.cast_function=e.cast,e.cast=!0;else if(e.cast!==!0)throw new j("CSV_INVALID_OPTION_CAST",["Invalid option cast:","cast must be true or a function,",`got ${JSON.stringify(e.cast)}`],e);if(e.cast_date===void 0||e.cast_date===null||e.cast_date===!1||e.cast_date==="")e.cast_date=!1;else if(e.cast_date===!0)e.cast_date=function(o){const l=Date.parse(o);return isNaN(l)?o:new Date(l)};else if(typeof e.cast_date!="function")throw new j("CSV_INVALID_OPTION_CAST_DATE",["Invalid option cast_date:","cast_date must be true or a function,",`got ${JSON.stringify(e.cast_date)}`],e);if(e.cast_first_line_to_header=null,e.columns===!0)e.cast_first_line_to_header=void 0;else if(typeof e.columns=="function")e.cast_first_line_to_header=e.columns,e.columns=!0;else if(Array.isArray(e.columns))e.columns=hn(e.columns);else if(e.columns===void 0||e.columns===null||e.columns===!1)e.columns=!1;else throw new j("CSV_INVALID_OPTION_COLUMNS",["Invalid option columns:","expect an array, a function or true,",`got ${JSON.stringify(e.columns)}`],e);if(e.group_columns_by_name===void 0||e.group_columns_by_name===null||e.group_columns_by_name===!1)e.group_columns_by_name=!1;else{if(e.group_columns_by_name!==!0)throw new j("CSV_INVALID_OPTION_GROUP_COLUMNS_BY_NAME",["Invalid option group_columns_by_name:","expect an boolean,",`got ${JSON.stringify(e.group_columns_by_name)}`],e);if(e.columns===!1)throw new j("CSV_INVALID_OPTION_GROUP_COLUMNS_BY_NAME",["Invalid option group_columns_by_name:","the `columns` mode must be activated."],e)}if(e.comment===void 0||e.comment===null||e.comment===!1||e.comment==="")e.comment=null;else if(typeof e.comment=="string"&&(e.comment=Buffer.from(e.comment,e.encoding)),!Buffer.isBuffer(e.comment))throw new j("CSV_INVALID_OPTION_COMMENT",["Invalid option comment:","comment must be a buffer or a string,",`got ${JSON.stringify(e.comment)}`],e);const i=JSON.stringify(e.delimiter);if(Array.isArray(e.delimiter)||(e.delimiter=[e.delimiter]),e.delimiter.length===0)throw new j("CSV_INVALID_OPTION_DELIMITER",["Invalid option delimiter:","delimiter must be a non empty string or buffer or array of string|buffer,",`got ${i}`],e);if(e.delimiter=e.delimiter.map(function(o){if(o==null||o===!1)return Buffer.from(",",e.encoding);if(typeof o=="string"&&(o=Buffer.from(o,e.encoding)),!Buffer.isBuffer(o)||o.length===0)throw new j("CSV_INVALID_OPTION_DELIMITER",["Invalid option delimiter:","delimiter must be a non empty string or buffer or array of string|buffer,",`got ${i}`],e);return o}),e.escape===void 0||e.escape===!0?e.escape=Buffer.from('"',e.encoding):typeof e.escape=="string"?e.escape=Buffer.from(e.escape,e.encoding):(e.escape===null||e.escape===!1)&&(e.escape=null),e.escape!==null&&!Buffer.isBuffer(e.escape))throw new Error(`Invalid Option: escape must be a buffer, a string or a boolean, got ${JSON.stringify(e.escape)}`);if(e.from===void 0||e.from===null)e.from=1;else if(typeof e.from=="string"&&/\d+/.test(e.from)&&(e.from=parseInt(e.from)),Number.isInteger(e.from)){if(e.from<0)throw new Error(`Invalid Option: from must be a positive integer, got ${JSON.stringify(n.from)}`)}else throw new Error(`Invalid Option: from must be an integer, got ${JSON.stringify(e.from)}`);if(e.from_line===void 0||e.from_line===null)e.from_line=1;else if(typeof e.from_line=="string"&&/\d+/.test(e.from_line)&&(e.from_line=parseInt(e.from_line)),Number.isInteger(e.from_line)){if(e.from_line<=0)throw new Error(`Invalid Option: from_line must be a positive integer greater than 0, got ${JSON.stringify(n.from_line)}`)}else throw new Error(`Invalid Option: from_line must be an integer, got ${JSON.stringify(n.from_line)}`);if(e.ignore_last_delimiters===void 0||e.ignore_last_delimiters===null)e.ignore_last_delimiters=!1;else if(typeof e.ignore_last_delimiters=="number")e.ignore_last_delimiters=Math.floor(e.ignore_last_delimiters),e.ignore_last_delimiters===0&&(e.ignore_last_delimiters=!1);else if(typeof e.ignore_last_delimiters!="boolean")throw new j("CSV_INVALID_OPTION_IGNORE_LAST_DELIMITERS",["Invalid option `ignore_last_delimiters`:","the value must be a boolean value or an integer,",`got ${JSON.stringify(e.ignore_last_delimiters)}`],e);if(e.ignore_last_delimiters===!0&&e.columns===!1)throw new j("CSV_IGNORE_LAST_DELIMITERS_REQUIRES_COLUMNS",["The option `ignore_last_delimiters`","requires the activation of the `columns` option"],e);if(e.info===void 0||e.info===null||e.info===!1)e.info=!1;else if(e.info!==!0)throw new Error(`Invalid Option: info must be true, got ${JSON.stringify(e.info)}`);if(e.max_record_size===void 0||e.max_record_size===null||e.max_record_size===!1)e.max_record_size=0;else if(!(Number.isInteger(e.max_record_size)&&e.max_record_size>=0))if(typeof e.max_record_size=="string"&&/\d+/.test(e.max_record_size))e.max_record_size=parseInt(e.max_record_size);else throw new Error(`Invalid Option: max_record_size must be a positive integer, got ${JSON.stringify(e.max_record_size)}`);if(e.objname===void 0||e.objname===null||e.objname===!1)e.objname=void 0;else if(Buffer.isBuffer(e.objname)){if(e.objname.length===0)throw new Error("Invalid Option: objname must be a non empty buffer");e.encoding===null||(e.objname=e.objname.toString(e.encoding))}else if(typeof e.objname=="string"){if(e.objname.length===0)throw new Error("Invalid Option: objname must be a non empty string")}else if(typeof e.objname!="number")throw new Error(`Invalid Option: objname must be a string or a buffer, got ${e.objname}`);if(e.objname!==void 0){if(typeof e.objname=="number"){if(e.columns!==!1)throw Error("Invalid Option: objname index cannot be combined with columns or be defined as a field")}else if(e.columns===!1)throw Error("Invalid Option: objname field must be combined with columns or be defined as an index")}if(e.on_record===void 0||e.on_record===null)e.on_record=void 0;else if(typeof e.on_record!="function")throw new j("CSV_INVALID_OPTION_ON_RECORD",["Invalid option `on_record`:","expect a function,",`got ${JSON.stringify(e.on_record)}`],e);if(e.quote===null||e.quote===!1||e.quote==="")e.quote=null;else if(e.quote===void 0||e.quote===!0?e.quote=Buffer.from('"',e.encoding):typeof e.quote=="string"&&(e.quote=Buffer.from(e.quote,e.encoding)),!Buffer.isBuffer(e.quote))throw new Error(`Invalid Option: quote must be a buffer or a string, got ${JSON.stringify(e.quote)}`);if(e.raw===void 0||e.raw===null||e.raw===!1)e.raw=!1;else if(e.raw!==!0)throw new Error(`Invalid Option: raw must be true, got ${JSON.stringify(e.raw)}`);if(e.record_delimiter===void 0)e.record_delimiter=[];else if(typeof e.record_delimiter=="string"||Buffer.isBuffer(e.record_delimiter)){if(e.record_delimiter.length===0)throw new j("CSV_INVALID_OPTION_RECORD_DELIMITER",["Invalid option `record_delimiter`:","value must be a non empty string or buffer,",`got ${JSON.stringify(e.record_delimiter)}`],e);e.record_delimiter=[e.record_delimiter]}else if(!Array.isArray(e.record_delimiter))throw new j("CSV_INVALID_OPTION_RECORD_DELIMITER",["Invalid option `record_delimiter`:","value must be a string, a buffer or array of string|buffer,",`got ${JSON.stringify(e.record_delimiter)}`],e);if(e.record_delimiter=e.record_delimiter.map(function(o,l){if(typeof o!="string"&&!Buffer.isBuffer(o))throw new j("CSV_INVALID_OPTION_RECORD_DELIMITER",["Invalid option `record_delimiter`:","value must be a string, a buffer or array of string|buffer",`at index ${l},`,`got ${JSON.stringify(o)}`],e);if(o.length===0)throw new j("CSV_INVALID_OPTION_RECORD_DELIMITER",["Invalid option `record_delimiter`:","value must be a non empty string or buffer",`at index ${l},`,`got ${JSON.stringify(o)}`],e);return typeof o=="string"&&(o=Buffer.from(o,e.encoding)),o}),typeof e.relax_column_count!="boolean")if(e.relax_column_count===void 0||e.relax_column_count===null)e.relax_column_count=!1;else throw new Error(`Invalid Option: relax_column_count must be a boolean, got ${JSON.stringify(e.relax_column_count)}`);if(typeof e.relax_column_count_less!="boolean")if(e.relax_column_count_less===void 0||e.relax_column_count_less===null)e.relax_column_count_less=!1;else throw new Error(`Invalid Option: relax_column_count_less must be a boolean, got ${JSON.stringify(e.relax_column_count_less)}`);if(typeof e.relax_column_count_more!="boolean")if(e.relax_column_count_more===void 0||e.relax_column_count_more===null)e.relax_column_count_more=!1;else throw new Error(`Invalid Option: relax_column_count_more must be a boolean, got ${JSON.stringify(e.relax_column_count_more)}`);if(typeof e.relax_quotes!="boolean")if(e.relax_quotes===void 0||e.relax_quotes===null)e.relax_quotes=!1;else throw new Error(`Invalid Option: relax_quotes must be a boolean, got ${JSON.stringify(e.relax_quotes)}`);if(typeof e.skip_empty_lines!="boolean")if(e.skip_empty_lines===void 0||e.skip_empty_lines===null)e.skip_empty_lines=!1;else throw new Error(`Invalid Option: skip_empty_lines must be a boolean, got ${JSON.stringify(e.skip_empty_lines)}`);if(typeof e.skip_records_with_empty_values!="boolean")if(e.skip_records_with_empty_values===void 0||e.skip_records_with_empty_values===null)e.skip_records_with_empty_values=!1;else throw new Error(`Invalid Option: skip_records_with_empty_values must be a boolean, got ${JSON.stringify(e.skip_records_with_empty_values)}`);if(typeof e.skip_records_with_error!="boolean")if(e.skip_records_with_error===void 0||e.skip_records_with_error===null)e.skip_records_with_error=!1;else throw new Error(`Invalid Option: skip_records_with_error must be a boolean, got ${JSON.stringify(e.skip_records_with_error)}`);if(e.rtrim===void 0||e.rtrim===null||e.rtrim===!1)e.rtrim=!1;else if(e.rtrim!==!0)throw new Error(`Invalid Option: rtrim must be a boolean, got ${JSON.stringify(e.rtrim)}`);if(e.ltrim===void 0||e.ltrim===null||e.ltrim===!1)e.ltrim=!1;else if(e.ltrim!==!0)throw new Error(`Invalid Option: ltrim must be a boolean, got ${JSON.stringify(e.ltrim)}`);if(e.trim===void 0||e.trim===null||e.trim===!1)e.trim=!1;else if(e.trim!==!0)throw new Error(`Invalid Option: trim must be a boolean, got ${JSON.stringify(e.trim)}`);if(e.trim===!0&&n.ltrim!==!1?e.ltrim=!0:e.ltrim!==!0&&(e.ltrim=!1),e.trim===!0&&n.rtrim!==!1?e.rtrim=!0:e.rtrim!==!0&&(e.rtrim=!1),e.to===void 0||e.to===null)e.to=-1;else if(typeof e.to=="string"&&/\d+/.test(e.to)&&(e.to=parseInt(e.to)),Number.isInteger(e.to)){if(e.to<=0)throw new Error(`Invalid Option: to must be a positive integer greater than 0, got ${JSON.stringify(n.to)}`)}else throw new Error(`Invalid Option: to must be an integer, got ${JSON.stringify(n.to)}`);if(e.to_line===void 0||e.to_line===null)e.to_line=-1;else if(typeof e.to_line=="string"&&/\d+/.test(e.to_line)&&(e.to_line=parseInt(e.to_line)),Number.isInteger(e.to_line)){if(e.to_line<=0)throw new Error(`Invalid Option: to_line must be a positive integer greater than 0, got ${JSON.stringify(n.to_line)}`)}else throw new Error(`Invalid Option: to_line must be an integer, got ${JSON.stringify(n.to_line)}`);return e},xt=function(n){return n.every(e=>e==null||e.toString&&e.toString().trim()==="")},Nt=13,tt=10,Me={utf8:Buffer.from([239,187,191]),utf16le:Buffer.from([255,254])},Qn=function(n={}){const e={bytes:0,comment_lines:0,empty_lines:0,invalid_field_length:0,lines:1,records:0},i=St(n);return{info:e,original_options:n,options:i,state:Yn(i),__needMoreData:function(o,l,u){if(u)return!1;const{quote:c}=this.options,{quoting:s,needMoreDataSize:a,recordDelimiterMaxLength:m}=this.state,g=l-o-1,y=Math.max(a,m,s?c.length+m:0);return g<y},parse:function(o,l,u,c){const{bom:s,from_line:a,ltrim:m,max_record_size:g,raw:y,relax_quotes:p,rtrim:E,skip_empty_lines:b,to:I,to_line:S}=this.options;let{comment:x,escape:N,quote:O,record_delimiter:k}=this.options;const{bomSkipped:C,previousBuf:B,rawBuffer:v,escapeIsQuote:J}=this.state;let F;if(B===void 0)if(o===void 0){c();return}else F=o;else B!==void 0&&o===void 0?F=B:F=Buffer.concat([B,o]);if(C===!1)if(s===!1)this.state.bomSkipped=!0;else if(F.length<3){if(l===!1){this.state.previousBuf=F;return}}else{for(const $ in Me)if(Me[$].compare(F,0,Me[$].length)===0){const ie=Me[$].length;this.state.bufBytesStart+=ie,F=F.slice(ie),this.options=St({...this.original_options,encoding:$}),{comment:x,escape:N,quote:O}=this.options;break}this.state.bomSkipped=!0}const ge=F.length;let L;for(L=0;L<ge&&!this.__needMoreData(L,ge,l);L++){if(this.state.wasRowDelimiter===!0&&(this.info.lines++,this.state.wasRowDelimiter=!1),S!==-1&&this.info.lines>S){this.state.stop=!0,c();return}this.state.quoting===!1&&k.length===0&&this.__autoDiscoverRecordDelimiter(F,L)&&(k=this.options.record_delimiter);const $=F[L];if(y===!0&&v.append($),($===Nt||$===tt)&&this.state.wasRowDelimiter===!1&&(this.state.wasRowDelimiter=!0),this.state.escaping===!0)this.state.escaping=!1;else{if(N!==null&&this.state.quoting===!0&&this.__isEscape(F,L,$)&&L+N.length<ge)if(J){if(this.__isQuote(F,L+N.length)){this.state.escaping=!0,L+=N.length-1;continue}}else{this.state.escaping=!0,L+=N.length-1;continue}if(this.state.commenting===!1&&this.__isQuote(F,L))if(this.state.quoting===!0){const W=F[L+O.length],Te=E&&this.__isCharTrimable(F,L+O.length),Ee=x!==null&&this.__compareBytes(x,F,L+O.length,W),ye=this.__isDelimiter(F,L+O.length,W),Ie=k.length===0?this.__autoDiscoverRecordDelimiter(F,L+O.length):this.__isRecordDelimiter(W,F,L+O.length);if(N!==null&&this.__isEscape(F,L,$)&&this.__isQuote(F,L+N.length))L+=N.length-1;else if(!W||ye||Ie||Ee||Te){this.state.quoting=!1,this.state.wasQuoting=!0,L+=O.length-1;continue}else if(p===!1){const we=this.__error(new j("CSV_INVALID_CLOSING_QUOTE",["Invalid Closing Quote:",`got "${String.fromCharCode(W)}"`,`at line ${this.info.lines}`,"instead of delimiter, record delimiter, trimable character","(if activated) or comment"],this.options,this.__infoField()));if(we!==void 0)return we}else this.state.quoting=!1,this.state.wasQuoting=!0,this.state.field.prepend(O),L+=O.length-1}else if(this.state.field.length!==0){if(p===!1){const W=this.__error(new j("INVALID_OPENING_QUOTE",["Invalid Opening Quote:",`a quote is found inside a field at line ${this.info.lines}`],this.options,this.__infoField(),{field:this.state.field}));if(W!==void 0)return W}}else{this.state.quoting=!0,L+=O.length-1;continue}if(this.state.quoting===!1){const W=this.__isRecordDelimiter($,F,L);if(W!==0){if(this.state.commenting&&this.state.wasQuoting===!1&&this.state.record.length===0&&this.state.field.length===0)this.info.comment_lines++;else{if(this.state.enabled===!1&&this.info.lines+(this.state.wasRowDelimiter===!0?1:0)>=a){this.state.enabled=!0,this.__resetField(),this.__resetRecord(),L+=W-1;continue}if(b===!0&&this.state.wasQuoting===!1&&this.state.record.length===0&&this.state.field.length===0){this.info.empty_lines++,L+=W-1;continue}this.info.bytes=this.state.bufBytesStart+L;const Ie=this.__onField();if(Ie!==void 0)return Ie;this.info.bytes=this.state.bufBytesStart+L+W;const we=this.__onRecord(u);if(we!==void 0)return we;if(I!==-1&&this.info.records>=I){this.state.stop=!0,c();return}}this.state.commenting=!1,L+=W-1;continue}if(this.state.commenting)continue;if((x===null?0:this.__compareBytes(x,F,L,$))!==0){this.state.commenting=!0;continue}const Ee=this.__isDelimiter(F,L,$);if(Ee!==0){this.info.bytes=this.state.bufBytesStart+L;const ye=this.__onField();if(ye!==void 0)return ye;L+=Ee-1;continue}}}if(this.state.commenting===!1&&g!==0&&this.state.record_length+this.state.field.length>g)return this.__error(new j("CSV_MAX_RECORD_SIZE",["Max Record Size:","record exceed the maximum number of tolerated bytes",`of ${g}`,`at line ${this.info.lines}`],this.options,this.__infoField()));const ie=m===!1||this.state.quoting===!0||this.state.field.length!==0||!this.__isCharTrimable(F,L),Re=E===!1||this.state.wasQuoting===!1;if(ie===!0&&Re===!0)this.state.field.append($);else{if(E===!0&&!this.__isCharTrimable(F,L))return this.__error(new j("CSV_NON_TRIMABLE_CHAR_AFTER_CLOSING_QUOTE",["Invalid Closing Quote:","found non trimable byte after quote",`at line ${this.info.lines}`],this.options,this.__infoField()));ie===!1&&(L+=this.__isCharTrimable(F,L)-1);continue}}if(l===!0)if(this.state.quoting===!0){const $=this.__error(new j("CSV_QUOTE_NOT_CLOSED",["Quote Not Closed:",`the parsing is finished with an opening quote at line ${this.info.lines}`],this.options,this.__infoField()));if($!==void 0)return $}else if(this.state.wasQuoting===!0||this.state.record.length!==0||this.state.field.length!==0){this.info.bytes=this.state.bufBytesStart+L;const $=this.__onField();if($!==void 0)return $;const ie=this.__onRecord(u);if(ie!==void 0)return ie}else this.state.wasRowDelimiter===!0?this.info.empty_lines++:this.state.commenting===!0&&this.info.comment_lines++;else this.state.bufBytesStart+=L,this.state.previousBuf=F.slice(L);this.state.wasRowDelimiter===!0&&(this.info.lines++,this.state.wasRowDelimiter=!1)},__onRecord:function(o){const{columns:l,group_columns_by_name:u,encoding:c,info:s,from:a,relax_column_count:m,relax_column_count_less:g,relax_column_count_more:y,raw:p,skip_records_with_empty_values:E}=this.options,{enabled:b,record:I}=this.state;if(b===!1)return this.__resetRecord();const S=I.length;if(l===!0){if(E===!0&&xt(I)){this.__resetRecord();return}return this.__firstLineToColumns(I)}if(l===!1&&this.info.records===0&&(this.state.expectedRecordLength=S),S!==this.state.expectedRecordLength){const x=l===!1?new j("CSV_RECORD_INCONSISTENT_FIELDS_LENGTH",["Invalid Record Length:",`expect ${this.state.expectedRecordLength},`,`got ${S} on line ${this.info.lines}`],this.options,this.__infoField(),{record:I}):new j("CSV_RECORD_INCONSISTENT_COLUMNS",["Invalid Record Length:",`columns length is ${l.length},`,`got ${S} on line ${this.info.lines}`],this.options,this.__infoField(),{record:I});if(m===!0||g===!0&&S<this.state.expectedRecordLength||y===!0&&S>this.state.expectedRecordLength)this.info.invalid_field_length++,this.state.error=x;else{const N=this.__error(x);if(N)return N}}if(E===!0&&xt(I)){this.__resetRecord();return}if(this.state.recordHasError===!0){this.__resetRecord(),this.state.recordHasError=!1;return}if(this.info.records++,a===1||this.info.records>=a){const{objname:x}=this.options;if(l!==!1){const N={};for(let O=0,k=I.length;O<k;O++)l[O]===void 0||l[O].disabled||(u===!0&&N[l[O].name]!==void 0?Array.isArray(N[l[O].name])?N[l[O].name]=N[l[O].name].concat(I[O]):N[l[O].name]=[N[l[O].name],I[O]]:N[l[O].name]=I[O]);if(p===!0||s===!0){const O=Object.assign({record:N},p===!0?{raw:this.state.rawBuffer.toString(c)}:{},s===!0?{info:this.__infoRecord()}:{}),k=this.__push(x===void 0?O:[N[x],O],o);if(k)return k}else{const O=this.__push(x===void 0?N:[N[x],N],o);if(O)return O}}else if(p===!0||s===!0){const N=Object.assign({record:I},p===!0?{raw:this.state.rawBuffer.toString(c)}:{},s===!0?{info:this.__infoRecord()}:{}),O=this.__push(x===void 0?N:[I[x],N],o);if(O)return O}else{const N=this.__push(x===void 0?I:[I[x],I],o);if(N)return N}}this.__resetRecord()},__firstLineToColumns:function(o){const{firstLineToHeaders:l}=this.state;try{const u=l===void 0?o:l.call(null,o);if(!Array.isArray(u))return this.__error(new j("CSV_INVALID_COLUMN_MAPPING",["Invalid Column Mapping:","expect an array from column function,",`got ${JSON.stringify(u)}`],this.options,this.__infoField(),{headers:u}));const c=hn(u);this.state.expectedRecordLength=c.length,this.options.columns=c,this.__resetRecord();return}catch(u){return u}},__resetRecord:function(){this.options.raw===!0&&this.state.rawBuffer.reset(),this.state.error=void 0,this.state.record=[],this.state.record_length=0},__onField:function(){const{cast:o,encoding:l,rtrim:u,max_record_size:c}=this.options,{enabled:s,wasQuoting:a}=this.state;if(s===!1)return this.__resetField();let m=this.state.field.toString(l);if(u===!0&&a===!1&&(m=m.trimRight()),o===!0){const[g,y]=this.__cast(m);if(g!==void 0)return g;m=y}this.state.record.push(m),c!==0&&typeof m=="string"&&(this.state.record_length+=m.length),this.__resetField()},__resetField:function(){this.state.field.reset(),this.state.wasQuoting=!1},__push:function(o,l){const{on_record:u}=this.options;if(u!==void 0){const c=this.__infoRecord();try{o=u.call(null,o,c)}catch(s){return s}if(o==null)return}l(o)},__cast:function(o){const{columns:l,relax_column_count:u}=this.options;if(Array.isArray(l)===!0&&u&&this.options.columns.length<=this.state.record.length)return[void 0,void 0];if(this.state.castField!==null)try{const s=this.__infoField();return[void 0,this.state.castField.call(null,o,s)]}catch(s){return[s]}if(this.__isFloat(o))return[void 0,parseFloat(o)];if(this.options.cast_date!==!1){const s=this.__infoField();return[void 0,this.options.cast_date.call(null,o,s)]}return[void 0,o]},__isCharTrimable:function(o,l){return((c,s)=>{const{timchars:a}=this.state;e:for(let m=0;m<a.length;m++){const g=a[m];for(let y=0;y<g.length;y++)if(g[y]!==c[s+y])continue e;return g.length}return 0})(o,l)},__isFloat:function(o){return o-parseFloat(o)+1>=0},__compareBytes:function(o,l,u,c){if(o[0]!==c)return 0;const s=o.length;for(let a=1;a<s;a++)if(o[a]!==l[u+a])return 0;return s},__isDelimiter:function(o,l,u){const{delimiter:c,ignore_last_delimiters:s}=this.options;if(s===!0&&this.state.record.length===this.options.columns.length-1)return 0;if(s!==!1&&typeof s=="number"&&this.state.record.length===s-1)return 0;e:for(let a=0;a<c.length;a++){const m=c[a];if(m[0]===u){for(let g=1;g<m.length;g++)if(m[g]!==o[l+g])continue e;return m.length}}return 0},__isRecordDelimiter:function(o,l,u){const{record_delimiter:c}=this.options,s=c.length;e:for(let a=0;a<s;a++){const m=c[a],g=m.length;if(m[0]===o){for(let y=1;y<g;y++)if(m[y]!==l[u+y])continue e;return m.length}}return 0},__isEscape:function(o,l,u){const{escape:c}=this.options;if(c===null)return!1;const s=c.length;if(c[0]===u){for(let a=0;a<s;a++)if(c[a]!==o[l+a])return!1;return!0}return!1},__isQuote:function(o,l){const{quote:u}=this.options;if(u===null)return!1;const c=u.length;for(let s=0;s<c;s++)if(u[s]!==o[l+s])return!1;return!0},__autoDiscoverRecordDelimiter:function(o,l){const{encoding:u}=this.options,c=o[l];return c===Nt?o[l+1]===tt?(this.options.record_delimiter.push(Buffer.from(`\r
`,u)),this.state.recordDelimiterMaxLength=2,2):(this.options.record_delimiter.push(Buffer.from("\r",u)),this.state.recordDelimiterMaxLength=1,1):c===tt?(this.options.record_delimiter.push(Buffer.from(`
`,u)),this.state.recordDelimiterMaxLength=1,1):0},__error:function(o){const{encoding:l,raw:u,skip_records_with_error:c}=this.options,s=typeof o=="string"?new Error(o):o;if(c){this.state.recordHasError=!0,this.options.on_skip!==void 0&&this.options.on_skip(s,u?this.state.rawBuffer.toString(l):void 0);return}else return s},__infoDataSet:function(){return{...this.info,columns:this.options.columns}},__infoRecord:function(){const{columns:o,raw:l,encoding:u}=this.options;return{...this.__infoDataSet(),error:this.state.error,header:o===!0,index:this.state.record.length,raw:l?this.state.rawBuffer.toString(u):void 0}},__infoField:function(){const{columns:o}=this.options,l=Array.isArray(o);return{...this.__infoRecord(),column:l===!0?o.length>this.state.record.length?o[this.state.record.length].name:null:this.state.record.length,quoting:this.state.wasQuoting}}}},Hn=function(n,e={}){typeof n=="string"&&(n=Buffer.from(n));const i=e&&e.objname?{}:[],o=Qn(e),l=a=>{o.options.objname===void 0?i.push(a):i[a[0]]=a[1]},u=()=>{},c=o.parse(n,!1,l,u);if(c!==void 0)throw c;const s=o.parse(void 0,!0,l,u);if(s!==void 0)throw s;return i};class Xn{constructor(e=Ae(),i=Ae(),o=Ae(!1),l=Ae(!1)){this.allSessions=e,this.sessionsDataURL=i,this.loading=o,this.error=l}get sessions(){return ft(this.allSessions,e=>{if(e!=null)return e.reduce((i,o)=>{const l=e.filter(u=>u.year===o.year);return i[o.year]=l.reduce((u,c)=>(u[c.session]=l.filter(s=>s.session===c.session),u),{}),i},{})})}async fetch(e){e&&e!=""&&this.sessionsDataURL.set(e),this.loading.set(!0),fetch(e).then(i=>{if(!i.ok)throw this.error.set(!0),new Error("Error fetching unconference sessions");return i.text()}).then(i=>{const o=Hn(i,{cast:(l,u)=>{if(l!="")return u.column==="year"||u.column==="session"||u.column==="capacity"?Number(l):String(l)},columns:["year","time","session","room","capacity","title","leader1","leader2","leader3","leader4","notesUrl","hashtag",!1],skip_empty_lines:!0,skip_records_with_empty_values:!0,from:2});this.allSessions.set(o),this.loading.set(!1)}).catch(i=>{this.error.set(!0),console.error("There has been a problem with your fetch operation:",i)})}}const ze=new Xn;function At(n){if(!n)throw Error("Parameter args is required");if(!n.component==!n.asyncComponent)throw Error("One and only one of component and asyncComponent is required");if(n.component&&(n.asyncComponent=()=>Promise.resolve(n.component)),typeof n.asyncComponent!="function")throw Error("Parameter asyncComponent must be a function");if(n.conditions){Array.isArray(n.conditions)||(n.conditions=[n.conditions]);for(let i=0;i<n.conditions.length;i++)if(!n.conditions[i]||typeof n.conditions[i]!="function")throw Error("Invalid parameter conditions["+i+"]")}return n.loadingComponent&&(n.asyncComponent.loading=n.loadingComponent,n.asyncComponent.loadingParams=n.loadingParams||void 0),{component:n.asyncComponent,userData:n.userData,conditions:n.conditions&&n.conditions.length?n.conditions:void 0,props:n.props&&Object.keys(n.props).length?n.props:{},_sveltesparouter:!0}}function dn(n,e){if(n instanceof RegExp)return{keys:!1,pattern:n};var i,o,l,u,c=[],s="",a=n.split("/");for(a[0]||a.shift();l=a.shift();)i=l[0],i==="*"?(c.push("wild"),s+="/(.*)"):i===":"?(o=l.indexOf("?",1),u=l.indexOf(".",1),c.push(l.substring(1,~o?o:~u?u:l.length)),s+=!!~o&&!~u?"(?:/([^/]+?))?":"/([^/]+?)",~u&&(s+=(~o?"?":"")+"\\"+l.substring(u))):s+="/"+l;return{keys:c,pattern:new RegExp("^"+s+(e?"(?=$|/)":"/?$"),"i")}}function Wn(n){let e,i,o;const l=[n[2]];var u=n[0];function c(s){let a={};for(let m=0;m<l.length;m+=1)a=en(a,l[m]);return{props:a}}return u&&(e=new u(c()),e.$on("routeEvent",n[7])),{c(){e&&re(e.$$.fragment),i=le()},m(s,a){e&&ee(e,s,a),U(s,i,a),o=!0},p(s,a){const m=a&4?un(l,[cn(s[2])]):{};if(u!==(u=s[0])){if(e){fe();const g=e;P(g.$$.fragment,1,0,()=>{te(g,1)}),ue()}u?(e=new u(c()),e.$on("routeEvent",s[7]),re(e.$$.fragment),q(e.$$.fragment,1),ee(e,i.parentNode,i)):e=null}else u&&e.$set(m)},i(s){o||(e&&q(e.$$.fragment,s),o=!0)},o(s){e&&P(e.$$.fragment,s),o=!1},d(s){s&&T(i),e&&te(e,s)}}}function Zn(n){let e,i,o;const l=[{params:n[1]},n[2]];var u=n[0];function c(s){let a={};for(let m=0;m<l.length;m+=1)a=en(a,l[m]);return{props:a}}return u&&(e=new u(c()),e.$on("routeEvent",n[6])),{c(){e&&re(e.$$.fragment),i=le()},m(s,a){e&&ee(e,s,a),U(s,i,a),o=!0},p(s,a){const m=a&6?un(l,[a&2&&{params:s[1]},a&4&&cn(s[2])]):{};if(u!==(u=s[0])){if(e){fe();const g=e;P(g.$$.fragment,1,0,()=>{te(g,1)}),ue()}u?(e=new u(c()),e.$on("routeEvent",s[6]),re(e.$$.fragment),q(e.$$.fragment,1),ee(e,i.parentNode,i)):e=null}else u&&e.$set(m)},i(s){o||(e&&q(e.$$.fragment,s),o=!0)},o(s){e&&P(e.$$.fragment,s),o=!1},d(s){s&&T(i),e&&te(e,s)}}}function Kn(n){let e,i,o,l;const u=[Zn,Wn],c=[];function s(a,m){return a[1]?0:1}return e=s(n),i=c[e]=u[e](n),{c(){i.c(),o=le()},m(a,m){c[e].m(a,m),U(a,o,m),l=!0},p(a,[m]){let g=e;e=s(a),e===g?c[e].p(a,m):(fe(),P(c[g],1,1,()=>{c[g]=null}),ue(),i=c[e],i?i.p(a,m):(i=c[e]=u[e](a),i.c()),q(i,1),i.m(o.parentNode,o))},i(a){l||(q(i),l=!0)},o(a){P(i),l=!1},d(a){c[e].d(a),a&&T(o)}}}function kt(){const n=window.location.href.indexOf("#/");let e=n>-1?window.location.href.substr(n+1):"/";const i=e.indexOf("?");let o="";return i>-1&&(o=e.substr(i+1),e=e.substr(0,i)),{location:e,querystring:o}}const He=an(null,function(e){e(kt());const i=()=>{e(kt())};return window.addEventListener("hashchange",i,!1),function(){window.removeEventListener("hashchange",i,!1)}});ft(He,n=>n.location);ft(He,n=>n.querystring);const Ot=Ae(void 0);async function Ct(n){if(!n||n.length<1||n.charAt(0)!="/"&&n.indexOf("#/")!==0)throw Error("Invalid parameter location");await lt(),history.replaceState({...history.state,__svelte_spa_router_scrollX:window.scrollX,__svelte_spa_router_scrollY:window.scrollY},void 0),window.location.hash=(n.charAt(0)=="#"?"":"#")+n}async function ut(n){if(!n||n.length<1||n.charAt(0)!="/"&&n.indexOf("#/")!==0)throw Error("Invalid parameter location");await lt();const e=(n.charAt(0)=="#"?"":"#")+n;try{const i={...history.state};delete i.__svelte_spa_router_scrollX,delete i.__svelte_spa_router_scrollY,window.history.replaceState(i,void 0,e)}catch{console.warn("Caught exception while replacing the current page. If you're running this in the Svelte REPL, please note that the `replace` method might not work in this environment.")}window.dispatchEvent(new Event("hashchange"))}function mn(n,e){if(e=Lt(e),!n||!n.tagName||n.tagName.toLowerCase()!="a")throw Error('Action "link" can only be used with <a> tags');return Ft(n,e),{update(i){i=Lt(i),Ft(n,i)}}}function er(n){n?window.scrollTo(n.__svelte_spa_router_scrollX,n.__svelte_spa_router_scrollY):window.scrollTo(0,0)}function Ft(n,e){let i=e.href||n.getAttribute("href");if(i&&i.charAt(0)=="/")i="#"+i;else if(!i||i.length<2||i.slice(0,2)!="#/")throw Error('Invalid value for "href" attribute: '+i);n.setAttribute("href",i),n.addEventListener("click",o=>{o.preventDefault(),e.disabled||tr(o.currentTarget.getAttribute("href"))})}function Lt(n){return n&&typeof n=="string"?{href:n}:n||{}}function tr(n){history.replaceState({...history.state,__svelte_spa_router_scrollX:window.scrollX,__svelte_spa_router_scrollY:window.scrollY},void 0),window.location.hash=n}function nr(n,e,i){let{routes:o={}}=e,{prefix:l=""}=e,{restoreScrollState:u=!1}=e;class c{constructor(C,B){if(!B||typeof B!="function"&&(typeof B!="object"||B._sveltesparouter!==!0))throw Error("Invalid component object");if(!C||typeof C=="string"&&(C.length<1||C.charAt(0)!="/"&&C.charAt(0)!="*")||typeof C=="object"&&!(C instanceof RegExp))throw Error('Invalid value for "path" argument - strings must start with / or *');const{pattern:v,keys:J}=dn(C);this.path=C,typeof B=="object"&&B._sveltesparouter===!0?(this.component=B.component,this.conditions=B.conditions||[],this.userData=B.userData,this.props=B.props||{}):(this.component=()=>Promise.resolve(B),this.conditions=[],this.props={}),this._pattern=v,this._keys=J}match(C){if(l){if(typeof l=="string")if(C.startsWith(l))C=C.substr(l.length)||"/";else return null;else if(l instanceof RegExp){const F=C.match(l);if(F&&F[0])C=C.substr(F[0].length)||"/";else return null}}const B=this._pattern.exec(C);if(B===null)return null;if(this._keys===!1)return B;const v={};let J=0;for(;J<this._keys.length;){try{v[this._keys[J]]=decodeURIComponent(B[J+1]||"")||null}catch{v[this._keys[J]]=null}J++}return v}async checkConditions(C){for(let B=0;B<this.conditions.length;B++)if(!await this.conditions[B](C))return!1;return!0}}const s=[];o instanceof Map?o.forEach((k,C)=>{s.push(new c(C,k))}):Object.keys(o).forEach(k=>{s.push(new c(k,o[k]))});let a=null,m=null,g={};const y=vn();async function p(k,C){await lt(),y(k,C)}let E=null,b=null;u&&(b=k=>{k.state&&(k.state.__svelte_spa_router_scrollY||k.state.__svelte_spa_router_scrollX)?E=k.state:E=null},window.addEventListener("popstate",b),Un(()=>{er(E)}));let I=null,S=null;const x=He.subscribe(async k=>{I=k;let C=0;for(;C<s.length;){const B=s[C].match(k.location);if(!B){C++;continue}const v={route:s[C].path,location:k.location,querystring:k.querystring,userData:s[C].userData,params:B&&typeof B=="object"&&Object.keys(B).length?B:null};if(!await s[C].checkConditions(v)){i(0,a=null),S=null,p("conditionsFailed",v);return}p("routeLoading",Object.assign({},v));const J=s[C].component;if(S!=J){J.loading?(i(0,a=J.loading),S=J,i(1,m=J.loadingParams),i(2,g={}),p("routeLoaded",Object.assign({},v,{component:a,name:a.name,params:m}))):(i(0,a=null),S=null);const F=await J();if(k!=I)return;i(0,a=F&&F.default||F),S=J}B&&typeof B=="object"&&Object.keys(B).length?i(1,m=B):i(1,m=null),i(2,g=s[C].props),p("routeLoaded",Object.assign({},v,{component:a,name:a.name,params:m})).then(()=>{Ot.set(m)});return}i(0,a=null),S=null,Ot.set(void 0)});on(()=>{x(),b&&window.removeEventListener("popstate",b)});function N(k){bt.call(this,n,k)}function O(k){bt.call(this,n,k)}return n.$$set=k=>{"routes"in k&&i(3,o=k.routes),"prefix"in k&&i(4,l=k.prefix),"restoreScrollState"in k&&i(5,u=k.restoreScrollState)},n.$$.update=()=>{n.$$.dirty&32&&(history.scrollRestoration=u?"manual":"auto")},[a,m,g,o,l,u,N,O]}class rr extends me{constructor(e){super(),de(this,e,nr,Kn,he,{routes:3,prefix:4,restoreScrollState:5})}}const Ve=[];let _n;function pn(n){const e=n.pattern.test(_n);Rt(n,n.className,e),Rt(n,n.inactiveClassName,!e)}function Rt(n,e,i){(e||"").split(" ").forEach(o=>{!o||(n.node.classList.remove(o),i&&n.node.classList.add(o))})}He.subscribe(n=>{_n=n.location+(n.querystring?"?"+n.querystring:""),Ve.map(pn)});function gn(n,e){if(e&&(typeof e=="string"||typeof e=="object"&&e instanceof RegExp)?e={path:e}:e=e||{},!e.path&&n.hasAttribute("href")&&(e.path=n.getAttribute("href"),e.path&&e.path.length>1&&e.path.charAt(0)=="#"&&(e.path=e.path.substring(1))),e.className||(e.className="active"),!e.path||typeof e.path=="string"&&(e.path.length<1||e.path.charAt(0)!="/"&&e.path.charAt(0)!="*"))throw Error('Invalid value for "path" argument');const{pattern:i}=typeof e.path=="string"?dn(e.path):{pattern:e.path},o={node:n,className:e.className,inactiveClassName:e.inactiveClassName,pattern:i};return Ve.push(o),pn(o),{destroy(){Ve.splice(Ve.indexOf(o),1)}}}function ir(n){let e,i,o,l,u,c;return{c(){e=D("div"),i=ve("svg"),o=ve("g"),l=ve("circle"),u=ve("path"),R(l,"class","elapsed svelte-13gxl3h"),R(l,"cx","50"),R(l,"cy","50"),R(l,"r","40"),R(u,"stroke-dasharray",n[0]),R(u,"class",c="remaining "+n[1]+" svelte-13gxl3h"),R(u,"d","m 50,50 m -40,0 a 40,40 0 1 0 80,0 40,40 0 1 0 -80,0"),R(o,"class","circle svelte-13gxl3h"),R(i,"viewBox","0 0 100 100"),R(i,"xmlns","http://www.w3.org/2000/svg"),R(e,"class","timer svelte-13gxl3h")},m(s,a){U(s,e,a),A(e,i),A(i,o),A(o,l),A(o,u)},p(s,[a]){a&1&&R(u,"stroke-dasharray",s[0]),a&2&&c!==(c="remaining "+s[1]+" svelte-13gxl3h")&&R(u,"class",c)},i:G,o:G,d(s){s&&T(e)}}}function or(n,e,i){let{timeLimit:o}=e,{timeLeft:l}=e,u,c;return n.$$set=s=>{"timeLimit"in s&&i(2,o=s.timeLimit),"timeLeft"in s&&i(3,l=s.timeLeft)},n.$$.update=()=>{n.$$.dirty&12&&(l<=0?i(0,u="283"):i(0,u=(l/o-1/o*(1-l/o))*283+" 283"),l>o*.5?i(1,c="green"):l>o*.25?i(1,c="orange"):l>0?i(1,c="red"):i(1,c=""))},[u,c,o,l]}class sr extends me{constructor(e){super(),de(this,e,or,ir,he,{timeLimit:2,timeLeft:3})}}function Tt(n,e,i){const o=n.slice();return o[25]=e[i][0],o[26]=e[i][1],o}function Dt(n){let e,i,o,l,u,c,s,a,m=Object.entries(n[4]).sort(n[16]),g=[];for(let p=0;p<m.length;p+=1)g[p]=vt(Tt(n,m,p));let y=n[0]==n[12]&&n[0]in n[4]&&n[1]!=0&&$t(n);return{c(){e=D("li"),i=D("a"),i.textContent=`${n[12]}`,o=Y();for(let p=0;p<g.length;p+=1)g[p].c();l=Y(),y&&y.c(),u=le(),R(i,"href","/")},m(p,E){U(p,e,E),A(e,i),U(p,o,E);for(let b=0;b<g.length;b+=1)g[b].m(p,E);U(p,l,E),y&&y.m(p,E),U(p,u,E),c=!0,s||(a=[Je(mn.call(null,i)),st(e,"click",n[15]),Je(gn.call(null,e,"/"))],s=!0)},p(p,E){if(E&4112){m=Object.entries(p[4]).sort(p[16]);let b;for(b=0;b<m.length;b+=1){const I=Tt(p,m,b);g[b]?g[b].p(I,E):(g[b]=vt(I),g[b].c(),g[b].m(l.parentNode,l))}for(;b<g.length;b+=1)g[b].d(1);g.length=m.length}p[0]==p[12]&&p[0]in p[4]&&p[1]!=0?y?(y.p(p,E),E&19&&q(y,1)):(y=$t(p),y.c(),q(y,1),y.m(u.parentNode,u)):y&&(fe(),P(y,1,1,()=>{y=null}),ue())},i(p){c||(q(y),c=!0)},o(p){P(y),c=!1},d(p){p&&T(e),p&&T(o),ot(g,p),p&&T(l),y&&y.d(p),p&&T(u),s=!1,pe(a)}}}function Ut(n){let e,i,o=n[25]+"",l,u,c,s,a;function m(){return n[17](n[25])}return{c(){e=D("li"),i=D("a"),l=X(o),R(i,"href",u="/"+n[25])},m(g,y){U(g,e,y),A(e,i),A(i,l),s||(a=[Je(mn.call(null,i)),st(e,"click",m),Je(c=gn.call(null,e,"/"+n[25]))],s=!0)},p(g,y){n=g,y&16&&o!==(o=n[25]+"")&&ne(l,o),y&16&&u!==(u="/"+n[25])&&R(i,"href",u),c&&Ge(c.update)&&y&16&&c.update.call(null,"/"+n[25])},d(g){g&&T(e),s=!1,pe(a)}}}function vt(n){let e=Number(n[25])!=n[12],i,o=e&&Ut(n);return{c(){o&&o.c(),i=le()},m(l,u){o&&o.m(l,u),U(l,i,u)},p(l,u){u&16&&(e=Number(l[25])!=l[12]),e?o?o.p(l,u):(o=Ut(l),o.c(),o.m(i.parentNode,i)):o&&(o.d(1),o=null)},d(l){o&&o.d(l),l&&T(i)}}}function $t(n){let e,i,o,l,u;return i=new sr({props:{timeLeft:n[7],timeLimit:n[1]}}),{c(){e=D("li"),re(i.$$.fragment),R(e,"title",n[6]),R(e,"class","timer"),se(e,"loading",n[2]),se(e,"error",n[3]),se(e,"paused",!n[5])},m(c,s){U(c,e,s),ee(i,e,null),o=!0,l||(u=st(e,"click",n[18]),l=!0)},p(c,s){const a={};s&128&&(a.timeLeft=c[7]),s&2&&(a.timeLimit=c[1]),i.$set(a),(!o||s&64)&&R(e,"title",c[6]),(!o||s&4)&&se(e,"loading",c[2]),(!o||s&8)&&se(e,"error",c[3]),(!o||s&32)&&se(e,"paused",!c[5])},i(c){o||(q(i.$$.fragment,c),o=!0)},o(c){P(i.$$.fragment,c),o=!1},d(c){c&&T(e),te(i),l=!1,u()}}}function lr(n){let e,i,o,l=n[4]&&Dt(n);return{c(){e=D("div"),i=D("ul"),l&&l.c(),R(e,"class","past-years")},m(u,c){U(u,e,c),A(e,i),l&&l.m(i,null),o=!0},p(u,[c]){u[4]?l?(l.p(u,c),c&16&&q(l,1)):(l=Dt(u),l.c(),q(l,1),l.m(i,null)):l&&(fe(),P(l,1,1,()=>{l=null}),ue())},i(u){o||(q(l),o=!0)},o(u){P(l),o=!1},d(u){u&&T(e),l&&l.d()}}}function fr(n,e,i){let o,l,u,c,s,a;const{sessions:m,sessionsDataURL:g,loading:y,error:p}=ze;Oe(n,m,$=>i(4,a=$)),Oe(n,g,$=>i(20,u=$)),Oe(n,y,$=>i(2,c=$)),Oe(n,p,$=>i(3,s=$));let E=new Date().getFullYear(),{activeYear:b}=e,{refreshTime:I}=e,S=!1,x=0,N;function O(){clearInterval(N)}function k(){s||(S||s?(i(5,S=!1),O()):(i(5,S=!0),C()))}function C(){if(O(),I==0){i(5,S=!1);return}!S||c||(i(14,x=I),N=setInterval(()=>{B()},150))}function B(){i(14,x-=150),x<0&&(O(),c||ze.fetch(u))}function v(){document.visibilityState==="hidden"?O():S&&C()}rn(async()=>{typeof document.addEventListener>"u"||typeof document.hidden>"u"?console.log("Page Visibility API, not avaialble."):document.addEventListener("visibilitychange",v,!1)}),on(()=>{clearInterval(N),(typeof document.addEventListener<"u"||typeof document.hidden<"u")&&document.removeEventListener("visibilitychange",v,!1)});const J=()=>Ct("/"),F=($,ie)=>Number(ie[0])-Number($[0]),ge=$=>Ct("/"+$),L=()=>k();return n.$$set=$=>{"activeYear"in $&&i(0,b=$.activeYear),"refreshTime"in $&&i(1,I=$.refreshTime)},n.$$.update=()=>{n.$$.dirty&16384&&i(7,o=x),n.$$.dirty&17&&(b!=E?(i(5,S=!1),O()):a&&b in a?i(5,S=!0):i(5,S=!1)),n.$$.dirty&4&&(c||C()),n.$$.dirty&8&&i(6,l=s?"Error Refreshing Data":"Toggle Auto Refresh")},[b,I,c,s,a,S,l,o,m,g,y,p,E,k,x,J,F,ge,L]}class ur extends me{constructor(e){super(),de(this,e,fr,lr,he,{activeYear:0,refreshTime:1})}}function Mt(n){let e,i;function o(c,s){return s&1&&(i=null),i==null&&(i=!!c[0].startsWith("@")),i?ar:cr}let l=o(n,-1),u=l(n);return{c(){e=D("li"),u.c()},m(c,s){U(c,e,s),u.m(e,null)},p(c,s){l===(l=o(c,s))&&u?u.p(c,s):(u.d(1),u=l(c),u&&(u.c(),u.m(e,null)))},d(c){c&&T(e),u.d()}}}function cr(n){let e;return{c(){e=X(n[0])},m(i,o){U(i,e,o)},p(i,o){o&1&&ne(e,i[0])},d(i){i&&T(e)}}}function ar(n){let e,i,o;return{c(){e=D("a"),i=X(n[0]),R(e,"href",o="https://twitter.com/"+n[0].substring(1))},m(l,u){U(l,e,u),A(e,i)},p(l,u){u&1&&ne(i,l[0]),u&1&&o!==(o="https://twitter.com/"+l[0].substring(1))&&R(e,"href",o)},d(l){l&&T(e)}}}function hr(n){let e,i=n[0]&&Mt(n);return{c(){i&&i.c(),e=le()},m(o,l){i&&i.m(o,l),U(o,e,l)},p(o,[l]){o[0]?i?i.p(o,l):(i=Mt(o),i.c(),i.m(e.parentNode,e)):i&&(i.d(1),i=null)},i:G,o:G,d(o){i&&i.d(o),o&&T(e)}}}function dr(n,e,i){let{leader:o}=e;return n.$$set=l=>{"leader"in l&&i(0,o=l.leader)},[o]}class qe extends me{constructor(e){super(),de(this,e,dr,hr,he,{leader:0})}}function qt(n){let e,i,o,l,u,c,s,a,m,g,y,p;return u=new qe({props:{leader:n[0].leader1}}),s=new qe({props:{leader:n[0].leader2}}),m=new qe({props:{leader:n[0].leader3}}),y=new qe({props:{leader:n[0].leader4}}),{c(){e=D("div"),i=D("span"),i.textContent="Lead(s):",o=Y(),l=D("ul"),re(u.$$.fragment),c=Y(),re(s.$$.fragment),a=Y(),re(m.$$.fragment),g=Y(),re(y.$$.fragment),R(e,"class","lead")},m(E,b){U(E,e,b),A(e,i),A(e,o),A(e,l),ee(u,l,null),A(l,c),ee(s,l,null),A(l,a),ee(m,l,null),A(l,g),ee(y,l,null),p=!0},p(E,b){const I={};b&1&&(I.leader=E[0].leader1),u.$set(I);const S={};b&1&&(S.leader=E[0].leader2),s.$set(S);const x={};b&1&&(x.leader=E[0].leader3),m.$set(x);const N={};b&1&&(N.leader=E[0].leader4),y.$set(N)},i(E){p||(q(u.$$.fragment,E),q(s.$$.fragment,E),q(m.$$.fragment,E),q(y.$$.fragment,E),p=!0)},o(E){P(u.$$.fragment,E),P(s.$$.fragment,E),P(m.$$.fragment,E),P(y.$$.fragment,E),p=!1},d(E){E&&T(e),te(u),te(s),te(m),te(y)}}}function Pt(n){let e,i,o,l,u=n[0].room+"",c,s;return{c(){e=D("div"),i=D("dt"),i.textContent="Room:",o=Y(),l=D("dd"),c=X(u),s=Y(),R(l,"title","Room"),R(e,"class","room")},m(a,m){U(a,e,m),A(e,i),A(e,o),A(e,l),A(l,c),A(e,s)},p(a,m){m&1&&u!==(u=a[0].room+"")&&ne(c,u)},d(a){a&&T(e)}}}function jt(n){let e,i,o,l,u=n[0].capacity+"",c,s;return{c(){e=D("div"),i=D("dt"),i.textContent="Capacity:",o=Y(),l=D("dd"),c=X(u),s=Y(),R(l,"title","Capacity"),R(e,"class","capacity")},m(a,m){U(a,e,m),A(e,i),A(e,o),A(e,l),A(l,c),A(e,s)},p(a,m){m&1&&u!==(u=a[0].capacity+"")&&ne(c,u)},d(a){a&&T(e)}}}function Vt(n){let e,i,o,l,u,c=n[0].notesUrl+"",s,a,m;return{c(){e=D("div"),i=D("dt"),i.textContent="Session Notes:",o=Y(),l=D("dd"),u=D("a"),s=X(c),m=Y(),R(u,"title","Session Notes"),R(u,"href",a=n[0].notesUrl),R(e,"class","notes")},m(g,y){U(g,e,y),A(e,i),A(e,o),A(e,l),A(l,u),A(u,s),A(e,m)},p(g,y){y&1&&c!==(c=g[0].notesUrl+"")&&ne(s,c),y&1&&a!==(a=g[0].notesUrl)&&R(u,"href",a)},d(g){g&&T(e)}}}function Jt(n){let e,i,o,l,u,c=n[0].hashtag.substring(1)+"",s,a,m;return{c(){e=D("div"),i=D("dt"),i.textContent="Hashtag:",o=Y(),l=D("dd"),u=D("a"),s=X(c),R(u,"title",a="Session Hashtag: "+n[0].hashtag),R(u,"href",m="https://twitter.com/search?q="+encodeURIComponent(n[0].hashtag)),R(e,"class","hashtag")},m(g,y){U(g,e,y),A(e,i),A(e,o),A(e,l),A(l,u),A(u,s)},p(g,y){y&1&&c!==(c=g[0].hashtag.substring(1)+"")&&ne(s,c),y&1&&a!==(a="Session Hashtag: "+g[0].hashtag)&&R(u,"title",a),y&1&&m!==(m="https://twitter.com/search?q="+encodeURIComponent(g[0].hashtag))&&R(u,"href",m)},d(g){g&&T(e)}}}function mr(n){let e,i,o=n[0].title.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/\n/g,"<span>&nbsp;&</span><br />")+"",l,u,c,s,a,m,g,y,p=n[0].leader1&&qt(n),E=n[0].room&&Pt(n),b=n[0].capacity&&jt(n),I=n[0].notesUrl&&Vt(n),S=n[0].hashtag&&Jt(n);return{c(){e=D("article"),i=D("h3"),l=Y(),p&&p.c(),u=Y(),c=D("footer"),s=D("dl"),E&&E.c(),a=le(),b&&b.c(),m=le(),I&&I.c(),g=le(),S&&S.c(),R(e,"class","session")},m(x,N){U(x,e,N),A(e,i),i.innerHTML=o,A(e,l),p&&p.m(e,null),A(e,u),A(e,c),A(c,s),E&&E.m(s,null),A(s,a),b&&b.m(s,null),A(s,m),I&&I.m(s,null),A(s,g),S&&S.m(s,null),y=!0},p(x,[N]){(!y||N&1)&&o!==(o=x[0].title.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/\n/g,"<span>&nbsp;&</span><br />")+"")&&(i.innerHTML=o),x[0].leader1?p?(p.p(x,N),N&1&&q(p,1)):(p=qt(x),p.c(),q(p,1),p.m(e,u)):p&&(fe(),P(p,1,1,()=>{p=null}),ue()),x[0].room?E?E.p(x,N):(E=Pt(x),E.c(),E.m(s,a)):E&&(E.d(1),E=null),x[0].capacity?b?b.p(x,N):(b=jt(x),b.c(),b.m(s,m)):b&&(b.d(1),b=null),x[0].notesUrl?I?I.p(x,N):(I=Vt(x),I.c(),I.m(s,g)):I&&(I.d(1),I=null),x[0].hashtag?S?S.p(x,N):(S=Jt(x),S.c(),S.m(s,null)):S&&(S.d(1),S=null)},i(x){y||(q(p),y=!0)},o(x){P(p),y=!1},d(x){x&&T(e),p&&p.d(),E&&E.d(),b&&b.d(),I&&I.d(),S&&S.d()}}}function _r(n,e,i){let{session:o}=e;return n.$$set=l=>{"session"in l&&i(0,o=l.session)},[o]}class pr extends me{constructor(e){super(),de(this,e,_r,mr,he,{session:0})}}function zt(n,e,i){const o=n.slice();return o[1]=e[i],o}function gr(n){let e,i,o=n[0][0].session+"",l,u,c=n[0][0].time+"",s,a,m,g,y=n[0],p=[];for(let b=0;b<y.length;b+=1)p[b]=Yt(zt(n,y,b));const E=b=>P(p[b],1,1,()=>{p[b]=null});return{c(){e=D("h2"),i=X("Session "),l=X(o),u=X(" - "),s=X(c),a=Y(),m=D("div");for(let b=0;b<p.length;b+=1)p[b].c()},m(b,I){U(b,e,I),A(e,i),A(e,l),A(e,u),A(e,s),U(b,a,I),U(b,m,I);for(let S=0;S<p.length;S+=1)p[S].m(m,null);g=!0},p(b,I){if((!g||I&1)&&o!==(o=b[0][0].session+"")&&ne(l,o),(!g||I&1)&&c!==(c=b[0][0].time+"")&&ne(s,c),I&1){y=b[0];let S;for(S=0;S<y.length;S+=1){const x=zt(b,y,S);p[S]?(p[S].p(x,I),q(p[S],1)):(p[S]=Yt(x),p[S].c(),q(p[S],1),p[S].m(m,null))}for(fe(),S=y.length;S<p.length;S+=1)E(S);ue()}},i(b){if(!g){for(let I=0;I<y.length;I+=1)q(p[I]);g=!0}},o(b){p=p.filter(Boolean);for(let I=0;I<p.length;I+=1)P(p[I]);g=!1},d(b){b&&T(e),b&&T(a),b&&T(m),ot(p,b)}}}function yr(n){let e,i=n[0][0].title+"",o,l,u=n[0][0].time+"",c;return{c(){e=D("h2"),o=X(i),l=X(" - "),c=X(u),R(e,"class","timing")},m(s,a){U(s,e,a),A(e,o),A(e,l),A(e,c)},p(s,a){a&1&&i!==(i=s[0][0].title+"")&&ne(o,i),a&1&&u!==(u=s[0][0].time+"")&&ne(c,u)},i:G,o:G,d(s){s&&T(e)}}}function Yt(n){let e,i;return e=new pr({props:{session:n[1]}}),{c(){re(e.$$.fragment)},m(o,l){ee(e,o,l),i=!0},p(o,l){const u={};l&1&&(u.session=o[1]),e.$set(u)},i(o){i||(q(e.$$.fragment,o),i=!0)},o(o){P(e.$$.fragment,o),i=!1},d(o){te(e,o)}}}function wr(n){let e,i,o,l;const u=[yr,gr],c=[];function s(a,m){return a[0][0].session%1!=0?0:1}return i=s(n),o=c[i]=u[i](n),{c(){e=D("section"),o.c()},m(a,m){U(a,e,m),c[i].m(e,null),l=!0},p(a,[m]){let g=i;i=s(a),i===g?c[i].p(a,m):(fe(),P(c[g],1,1,()=>{c[g]=null}),ue(),o=c[i],o?o.p(a,m):(o=c[i]=u[i](a),o.c()),q(o,1),o.m(e,null))},i(a){l||(q(o),l=!0)},o(a){P(o),l=!1},d(a){a&&T(e),c[i].d()}}}function br(n,e,i){let{timeslot:o}=e;return n.$$set=l=>{"timeslot"in l&&i(0,o=l.timeslot)},[o]}class Er extends me{constructor(e){super(),de(this,e,br,wr,he,{timeslot:0})}}function Gt(n,e,i){const o=n.slice();return o[9]=e[i][0],o[10]=e[i][1],o}function Qt(n){let e,i,o;return{c(){e=D("img"),wt(e.src,i=n[1].logo)||R(e,"src",i),R(e,"alt",o=n[0]+" Logo")},m(l,u){U(l,e,u)},p(l,u){u&2&&!wt(e.src,i=l[1].logo)&&R(e,"src",i),u&1&&o!==(o=l[0]+" Logo")&&R(e,"alt",o)},d(l){l&&T(e)}}}function Ir(n){let e;return{c(){e=D("span"),e.textContent="Session Data Loading",R(e,"class","loading")},m(i,o){U(i,e,o)},p:G,i:G,o:G,d(i){i&&T(e)}}}function Br(n){let e,i,o,l;const u=[xr,Sr],c=[];function s(a,m){return a[4]in a[3]?0:1}return e=s(n),i=c[e]=u[e](n),{c(){i.c(),o=le()},m(a,m){c[e].m(a,m),U(a,o,m),l=!0},p(a,m){let g=e;e=s(a),e===g?c[e].p(a,m):(fe(),P(c[g],1,1,()=>{c[g]=null}),ue(),i=c[e],i?i.p(a,m):(i=c[e]=u[e](a),i.c()),q(i,1),i.m(o.parentNode,o))},i(a){l||(q(i),l=!0)},o(a){P(i),l=!1},d(a){c[e].d(a),a&&T(o)}}}function Sr(n){let e,i,o;return{c(){e=D("span"),i=X("No Session Data for "),o=X(n[4]),R(e,"class","error")},m(l,u){U(l,e,u),A(e,i),A(e,o)},p(l,u){u&16&&ne(o,l[4])},i:G,o:G,d(l){l&&T(e)}}}function xr(n){let e,i,o=Object.entries(n[3][n[4]]).sort(n[7]),l=[];for(let c=0;c<o.length;c+=1)l[c]=Ht(Gt(n,o,c));const u=c=>P(l[c],1,1,()=>{l[c]=null});return{c(){for(let c=0;c<l.length;c+=1)l[c].c();e=le()},m(c,s){for(let a=0;a<l.length;a+=1)l[a].m(c,s);U(c,e,s),i=!0},p(c,s){if(s&24){o=Object.entries(c[3][c[4]]).sort(c[7]);let a;for(a=0;a<o.length;a+=1){const m=Gt(c,o,a);l[a]?(l[a].p(m,s),q(l[a],1)):(l[a]=Ht(m),l[a].c(),q(l[a],1),l[a].m(e.parentNode,e))}for(fe(),a=o.length;a<l.length;a+=1)u(a);ue()}},i(c){if(!i){for(let s=0;s<o.length;s+=1)q(l[s]);i=!0}},o(c){l=l.filter(Boolean);for(let s=0;s<l.length;s+=1)P(l[s]);i=!1},d(c){ot(l,c),c&&T(e)}}}function Ht(n){let e,i;return e=new Er({props:{timeslot:n[10]}}),{c(){re(e.$$.fragment)},m(o,l){ee(e,o,l),i=!0},p(o,l){const u={};l&24&&(u.timeslot=o[10]),e.$set(u)},i(o){i||(q(e.$$.fragment,o),i=!0)},o(o){P(e.$$.fragment,o),i=!1},d(o){te(e,o)}}}function Nr(n){let e,i,o,l,u,c,s,a,m,g,y,p,E,b,I,S,x;document.title=e=n[0]+" "+n[4]+" Session Grid";let N=n[1]&&n[1].logo&&Qt(n);p=new ur({props:{activeYear:n[4],refreshTime:n[2]}});const O=[Br,Ir],k=[];function C(B,v){return B[3]?0:1}return I=C(n),S=k[I]=O[I](n),{c(){i=Y(),o=D("header"),N&&N.c(),l=Y(),u=D("h1"),c=X(n[0]),s=Y(),a=D("h2"),m=X(n[4]),g=X(" Session Grid"),y=Y(),re(p.$$.fragment),E=Y(),b=D("main"),S.c(),se(o,"no-subheading",n[1]&&!n[1].subheading),se(o,"center",n[1]&&n[1].center),se(o,"logo",n[1]&&n[1].logo)},m(B,v){U(B,i,v),U(B,o,v),N&&N.m(o,null),A(o,l),A(o,u),A(u,c),A(o,s),A(o,a),A(a,m),A(a,g),U(B,y,v),ee(p,B,v),U(B,E,v),U(B,b,v),k[I].m(b,null),x=!0},p(B,[v]){(!x||v&17)&&e!==(e=B[0]+" "+B[4]+" Session Grid")&&(document.title=e),B[1]&&B[1].logo?N?N.p(B,v):(N=Qt(B),N.c(),N.m(o,l)):N&&(N.d(1),N=null),(!x||v&1)&&ne(c,B[0]),(!x||v&16)&&ne(m,B[4]),(!x||v&2)&&se(o,"no-subheading",B[1]&&!B[1].subheading),(!x||v&2)&&se(o,"center",B[1]&&B[1].center),(!x||v&2)&&se(o,"logo",B[1]&&B[1].logo);const J={};v&16&&(J.activeYear=B[4]),v&4&&(J.refreshTime=B[2]),p.$set(J);let F=I;I=C(B),I===F?k[I].p(B,v):(fe(),P(k[F],1,1,()=>{k[F]=null}),ue(),S=k[I],S?S.p(B,v):(S=k[I]=O[I](B),S.c()),q(S,1),S.m(b,null))},i(B){x||(q(p.$$.fragment,B),q(S),x=!0)},o(B){P(p.$$.fragment,B),P(S),x=!1},d(B){B&&T(i),B&&T(o),N&&N.d(),B&&T(y),te(p,B),B&&T(E),B&&T(b),k[I].d()}}}function Ar(n,e,i){let o;const{sessions:l}=ze;Oe(n,l,p=>i(3,o=p));let{name:u}=e,{branding:c}=e,{refreshTime:s}=e,{params:a={}}=e,m=new Date().getFullYear(),g;const y=(p,E)=>Number(p[0])-Number(E[0]);return n.$$set=p=>{"name"in p&&i(0,u=p.name),"branding"in p&&i(1,c=p.branding),"refreshTime"in p&&i(2,s=p.refreshTime),"params"in p&&i(6,a=p.params)},n.$$.update=()=>{n.$$.dirty&72&&(!a||!a.groups||!a.groups.year?i(4,g=m):o&&a.groups.year in o?i(4,g=a.groups.year):o?ut("/"):i(4,g=a.groups.year))},[u,c,s,o,g,l,a,y]}class Xt extends me{constructor(e){super(),de(this,e,Ar,Nr,he,{name:0,branding:1,refreshTime:2,params:6})}}function Wt(n){let e=ut("/")+"",i;return{c(){i=X(e)},m(o,l){U(o,i,l)},p:G,d(o){o&&T(i)}}}function kr(n){let e,i=!n[0]&&Wt();return{c(){i&&i.c(),e=le()},m(o,l){i&&i.m(o,l),U(o,e,l)},p(o,[l]){o[0]?i&&(i.d(1),i=null):i?i.p(o,l):(i=Wt(),i.c(),i.m(e.parentNode,e))},i:G,o:G,d(o){i&&i.d(o),o&&T(e)}}}function Or(n,e,i){let{params:o}=e;return ut("/"),n.$$set=l=>{"params"in l&&i(0,o=l.params)},[o]}class Cr extends me{constructor(e){super(),de(this,e,Or,kr,he,{params:0})}}function Fr(n){let e,i,o,l,u,c;return document.title=e=n[0]+" Session Grid",o=new rr({props:{routes:n[1]}}),{c(){i=Y(),re(o.$$.fragment),l=Y(),u=D("footer"),u.innerHTML=`Powered by open-source <a href="https://github.com/blu3id/unconference-sessions">unconference-sessions</a>
  inspiration from
  <a href="https://github.com/ConvivioTeam/unconf-live-session-grid">unconf-live-session-grid</a>`},m(s,a){U(s,i,a),ee(o,s,a),U(s,l,a),U(s,u,a),c=!0},p(s,[a]){(!c||a&1)&&e!==(e=s[0]+" Session Grid")&&(document.title=e)},i(s){c||(q(o.$$.fragment,s),c=!0)},o(s){P(o.$$.fragment,s),c=!1},d(s){s&&T(i),te(o,s),s&&T(l),s&&T(u)}}}function Lr(n,e,i){let{name:o}=e,{branding:l}=e,{sessionData:u}=e,{refreshTime:c}=e;const s=new Map;return s.set("/",At({component:Xt,props:{name:o,branding:l,refreshTime:c}})),s.set(/^\/(?<year>[0-9]{4})$/i,At({component:Xt,props:{name:o,branding:l,refreshTime:c}})),s.set("*",Cr),rn(async()=>{await ze.fetch(u)}),n.$$set=a=>{"name"in a&&i(0,o=a.name),"branding"in a&&i(2,l=a.branding),"sessionData"in a&&i(3,u=a.sessionData),"refreshTime"in a&&i(4,c=a.refreshTime)},[o,s,l,u,c]}class Rr extends me{constructor(e){super(),de(this,e,Lr,Fr,he,{name:0,branding:2,sessionData:3,refreshTime:4})}}new Rr({target:document.getElementById("app"),props:{name:document.App.name,branding:document.App.branding,sessionData:document.App.sessionData,refreshTime:document.App.refreshTime}});
